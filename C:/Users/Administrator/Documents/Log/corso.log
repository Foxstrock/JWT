2021-10-20 09:37:45.870  INFO 842 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 842 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 09:37:45.875  INFO 842 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 09:37:45.917  INFO 842 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 09:37:45.918  INFO 842 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 09:37:46.674  INFO 842 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 09:37:46.723  INFO 842 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2021-10-20 09:37:47.324  INFO 842 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 09:37:47.332  INFO 842 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 09:37:47.332  INFO 842 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 09:37:47.393  INFO 842 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 09:37:47.393  INFO 842 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1475 ms
2021-10-20 09:37:47.597  INFO 842 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 09:37:47.672  INFO 842 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 09:37:47.828  INFO 842 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 09:37:47.903  INFO 842 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 09:37:48.345  INFO 842 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 09:37:48.370  INFO 842 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 09:37:49.524  INFO 842 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 09:37:49.537  INFO 842 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 09:37:49.918  WARN 842 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 09:37:50.185 DEBUG 842 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 09:37:50.322  INFO 842 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8afd37, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c4ca12f, org.springframework.security.web.header.HeaderWriterFilter@754dddb4, org.springframework.security.web.authentication.logout.LogoutFilter@4a39c174, com.example.login.filter.CustomAuthorizazionFilter@22ad111c, com.example.login.filter.CustomAuthenticationFilter@7f2fda5e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@355e7cc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bc2f491, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54564303, org.springframework.security.web.session.SessionManagementFilter@68766541, org.springframework.security.web.access.ExceptionTranslationFilter@483d45f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a57c42]
2021-10-20 09:37:50.430  INFO 842 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 09:37:50.434 DEBUG 842 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 09:37:50.465 DEBUG 842 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 09:37:50.485 DEBUG 842 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 09:37:50.491 DEBUG 842 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 09:37:50.593  INFO 842 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 09:37:50.782  INFO 842 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 5.24 seconds (JVM running for 5.863)
2021-10-20 09:37:50.863 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 09:37:50.965 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:51.075 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:51.162 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 09:37:51.170  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 09:37:51.177 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 09:37:51.196 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 09:37:51.203 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 09:37:51.208 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 09:37:51.212 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 09:37:51.216 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 09:37:51.220 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 09:37:51.337  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 09:37:51.359 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 09:37:51.385 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 09:37:51.475 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 09:37:51.883  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 09:37:51.893 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 09:37:51.904 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 09:37:51.994 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 09:37:52.081  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 09:37:52.086 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 09:37:52.093 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 09:37:52.174 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 09:37:52.240  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 09:37:52.244 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 09:37:52.248 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 09:37:52.343 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 09:37:52.548  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 09:37:52.647 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 09:37:52.651 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 09:37:52.741 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 09:37:52.849  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 09:37:52.867 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:37:52.873 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:52.886 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 09:37:52.893 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:52.976  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 09:37:52.977 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:37:52.983 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:52.991 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 09:37:52.997 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 09:37:53.021 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.027 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.115  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 09:37:53.117 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:37:53.124 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:53.130 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 09:37:53.137 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 09:37:53.160 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.164 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.169 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.247  INFO 842 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 09:37:53.248 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:37:53.252 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:37:53.257 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 09:37:53.261 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 09:37:53.285 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.303 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.307 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:37:53.315 DEBUG 842 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 09:38:38.385  INFO 842 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 09:38:38.386  INFO 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 09:38:38.386 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 09:38:38.386 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 09:38:38.386 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 09:38:38.387 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@ed1837e
2021-10-20 09:38:38.388 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cb78b03
2021-10-20 09:38:38.388 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 09:38:38.388  INFO 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 09:39:16.734 DEBUG 842 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:39:16.775 DEBUG 842 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:39:16.853  INFO 842 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 09:39:24.334 DEBUG 842 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:39:24.344 DEBUG 842 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:39:24.355  INFO 842 --- [http-nio-8080-exec-5] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 09:39:35.090 DEBUG 842 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 09:39:35.094 DEBUG 842 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 09:39:35.100  INFO 842 --- [http-nio-8080-exec-6] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 09:46:52.355 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 09:46:52.360 DEBUG 842 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 09:46:52.377 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 09:46:52.385 ERROR 842 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 09:46:52.389 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 09:46:52.393 DEBUG 842 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 09:46:52.407 DEBUG 842 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 09:46:52.407 DEBUG 842 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 09:46:52 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 09:46:52.427 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 09:56:41.231 DEBUG 842 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 09:56:41.232 DEBUG 842 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 09:56:41.232 DEBUG 842 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 09:56:41.233 ERROR 842 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 09:56:41.234 DEBUG 842 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 09:56:41.234 DEBUG 842 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 09:56:41.235 DEBUG 842 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 09:56:41.235 DEBUG 842 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 09:56:41 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 09:56:41.237 DEBUG 842 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 09:56:52.566 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 09:56:52.566 DEBUG 842 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 09:56:52.567 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 09:56:52.567 ERROR 842 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 09:56:52.568 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 09:56:52.568 DEBUG 842 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 09:56:52.569 DEBUG 842 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 09:56:52.569 DEBUG 842 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 09:56:52 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 09:56:52.570 DEBUG 842 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 10:03:38.431 DEBUG 842 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:03:38.494 DEBUG 842 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:03:38.570  INFO 842 --- [http-nio-8080-exec-1] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 10:04:14.817 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 10:04:14.817 DEBUG 842 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 10:04:14.818 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 10:04:14.819 ERROR 842 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 10:04:14.820 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 10:04:14.820 DEBUG 842 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 10:04:14.821 DEBUG 842 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 10:04:14.821 DEBUG 842 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 10:04:14 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 10:04:14.822 DEBUG 842 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 10:09:43.235  INFO 842 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:09:43.242  INFO 842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 10:09:53.247  INFO 842 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 10:09:55.799  INFO 965 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 965 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 10:09:55.801  INFO 965 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 10:09:55.839  INFO 965 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 10:09:55.839  INFO 965 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 10:09:56.512  INFO 965 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 10:09:56.553  INFO 965 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2021-10-20 10:09:57.057  INFO 965 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 10:09:57.069  INFO 965 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 10:09:57.069  INFO 965 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 10:09:57.156  INFO 965 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 10:09:57.157  INFO 965 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1318 ms
2021-10-20 10:09:57.323  INFO 965 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 10:09:57.373  INFO 965 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 10:09:57.507  INFO 965 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 10:09:57.584  INFO 965 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 10:09:57.909  INFO 965 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 10:09:57.933  INFO 965 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 10:09:58.673  INFO 965 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 10:09:58.685  INFO 965 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:09:59.037  WARN 965 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 10:09:59.277 DEBUG 965 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 10:09:59.416  INFO 965 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11d68983, org.springframework.security.web.context.SecurityContextPersistenceFilter@3257b349, org.springframework.security.web.header.HeaderWriterFilter@13290e9a, org.springframework.security.web.authentication.logout.LogoutFilter@67228ff1, com.example.login.filter.CustomAuthorizazionFilter@7ab66945, com.example.login.filter.CustomAuthenticationFilter@4b1c4415, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65e2ade5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60d64efd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d59b2f1, org.springframework.security.web.session.SessionManagementFilter@847d871, org.springframework.security.web.access.ExceptionTranslationFilter@241335cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44319ac7]
2021-10-20 10:09:59.520  INFO 965 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 10:09:59.523 DEBUG 965 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 10:09:59.552 DEBUG 965 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 10:09:59.566 DEBUG 965 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 10:09:59.571 DEBUG 965 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 10:09:59.661  INFO 965 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 10:09:59.860  INFO 965 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.331 seconds (JVM running for 4.904)
2021-10-20 10:09:59.957 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 10:09:59.989 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:10:00.027 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 10:10:00.043  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 10:10:00.047 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:10:00.114 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 10:10:00.122 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:10:00.129 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:10:00.135 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:10:00.139 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:10:00.242  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 10:10:00.264 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:10:00.297 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:10:00.400 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:10:00.499  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 10:10:00.505 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:10:00.512 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:10:00.610 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:10:00.690  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 10:10:00.693 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:10:00.697 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:10:00.864 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:10:01.113  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 10:10:01.120 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:10:01.183 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:10:01.307 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:10:01.379  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 10:10:01.478 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:10:01.483 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:10:01.576 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:10:01.663  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 10:10:01.681 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:10:01.687 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:10:01.698 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:10:01.768 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:01.862  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 10:10:01.863 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:10:01.872 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:10:01.880 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:10:01.891 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:10:01.909 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:01.930 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.000  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 10:10:02.001 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:10:02.008 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:10:02.015 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:10:02.027 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:10:02.036 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.065 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.072 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.147  INFO 965 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 10:10:02.147 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:10:02.153 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:10:02.161 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:10:02.171 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:10:02.178 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.197 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.201 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:10:02.204 DEBUG 965 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:35.157  INFO 965 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:12:35.172  INFO 965 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 10:12:45.183  INFO 965 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 10:12:49.064  INFO 991 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 991 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 10:12:49.065  INFO 991 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 10:12:49.102  INFO 991 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 10:12:49.102  INFO 991 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 10:12:49.767  INFO 991 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 10:12:49.810  INFO 991 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-10-20 10:12:50.250  INFO 991 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 10:12:50.259  INFO 991 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 10:12:50.259  INFO 991 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 10:12:50.335  INFO 991 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 10:12:50.335  INFO 991 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1233 ms
2021-10-20 10:12:50.478  INFO 991 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 10:12:50.519  INFO 991 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 10:12:50.648  INFO 991 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 10:12:50.722  INFO 991 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 10:12:51.037  INFO 991 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 10:12:51.064  INFO 991 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 10:12:51.652  INFO 991 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 10:12:51.665  INFO 991 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:12:51.996  WARN 991 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 10:12:52.225 DEBUG 991 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 10:12:52.379  INFO 991 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53a73594, org.springframework.security.web.context.SecurityContextPersistenceFilter@1146ca47, org.springframework.security.web.header.HeaderWriterFilter@2125638d, org.springframework.security.web.authentication.logout.LogoutFilter@43b97b51, com.example.login.filter.CustomAuthorizazionFilter@76e4a5aa, com.example.login.filter.CustomAuthenticationFilter@63a43ef8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16d93bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5236e06f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3690696e, org.springframework.security.web.session.SessionManagementFilter@18cd493b, org.springframework.security.web.access.ExceptionTranslationFilter@32b0f40, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@680dd28f]
2021-10-20 10:12:52.498  INFO 991 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 10:12:52.504 DEBUG 991 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 10:12:52.542 DEBUG 991 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 10:12:52.559 DEBUG 991 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 10:12:52.565 DEBUG 991 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 10:12:52.672  INFO 991 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 10:12:52.891  INFO 991 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.108 seconds (JVM running for 4.578)
2021-10-20 10:12:53.010 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 10:12:53.038 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:12:53.071 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 10:12:53.078  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 10:12:53.082 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:12:53.126 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 10:12:53.131 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:12:53.136 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:12:53.141 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:12:53.146 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:12:53.237  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 10:12:53.248 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:12:53.252 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:12:53.355 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:12:53.515  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 10:12:53.520 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:12:53.525 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:12:53.600 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:12:53.671  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 10:12:53.677 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:12:53.685 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:12:53.768 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:12:54.149  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 10:12:54.155 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:12:54.240 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:12:54.354 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:12:54.430  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 10:12:54.533 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:12:54.540 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:12:54.603 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:12:54.724  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 10:12:54.741 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:12:54.747 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:12:54.777 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:12:54.921 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.174  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 10:12:55.175 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:12:55.181 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:12:55.189 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:12:55.195 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:12:55.236 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.242 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.314  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 10:12:55.315 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:12:55.322 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:12:55.331 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:12:55.338 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:12:55.365 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.374 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.377 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.449  INFO 991 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 10:12:55.450 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:12:55.454 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:12:55.461 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:12:55.467 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:12:55.472 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.478 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.482 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:12:55.486 DEBUG 991 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:05.308  INFO 991 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 10:13:05.309  INFO 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 10:13:05.309 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 10:13:05.309 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 10:13:05.309 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 10:13:05.310 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4caed182
2021-10-20 10:13:05.310 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@24224716
2021-10-20 10:13:05.310 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 10:13:05.310  INFO 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-10-20 10:13:05.327 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 10:13:05.330 DEBUG 991 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 10:13:05.344 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 10:13:05.351 ERROR 991 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 10:13:05.353 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 10:13:05.356 DEBUG 991 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 10:13:05.370 DEBUG 991 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 10:13:05.371 DEBUG 991 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 10:13:05 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 10:13:05.387 DEBUG 991 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 10:13:19.467  INFO 991 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:13:19.471  INFO 991 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 10:13:19.531  INFO 991 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 10:13:23.139  INFO 996 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 996 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 10:13:23.141  INFO 996 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 10:13:23.183  INFO 996 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 10:13:23.183  INFO 996 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 10:13:24.005  INFO 996 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 10:13:24.048  INFO 996 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-10-20 10:13:24.536  INFO 996 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 10:13:24.543  INFO 996 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 10:13:24.543  INFO 996 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 10:13:24.598  INFO 996 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 10:13:24.598  INFO 996 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1415 ms
2021-10-20 10:13:24.728  INFO 996 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 10:13:24.773  INFO 996 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 10:13:24.872  INFO 996 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 10:13:24.936  INFO 996 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 10:13:25.224  INFO 996 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 10:13:25.247  INFO 996 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 10:13:25.809  INFO 996 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 10:13:25.821  INFO 996 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:13:26.188  WARN 996 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 10:13:26.396 DEBUG 996 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 10:13:26.527  INFO 996 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40923638, org.springframework.security.web.context.SecurityContextPersistenceFilter@3036296a, org.springframework.security.web.header.HeaderWriterFilter@12be4d7d, org.springframework.security.web.authentication.logout.LogoutFilter@190a5ecb, com.example.login.filter.CustomAuthorizazionFilter@7e1d6595, com.example.login.filter.CustomAuthenticationFilter@223d7cbb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66af5cbc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7265434b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7645767e, org.springframework.security.web.session.SessionManagementFilter@6591a64a, org.springframework.security.web.access.ExceptionTranslationFilter@4a6a5360, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cb6914f]
2021-10-20 10:13:26.629  INFO 996 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 10:13:26.632 DEBUG 996 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 10:13:26.656 DEBUG 996 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 10:13:26.670 DEBUG 996 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 10:13:26.675 DEBUG 996 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 10:13:26.755  INFO 996 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 10:13:26.951  INFO 996 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.102 seconds (JVM running for 5.216)
2021-10-20 10:13:27.036 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 10:13:27.055 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:13:27.080 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 10:13:27.087  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 10:13:27.093 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:13:27.162 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 10:13:27.169 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:13:27.174 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:13:27.180 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:13:27.186 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:13:27.317  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 10:13:27.335 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:13:27.339 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:13:27.426 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:13:27.500  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 10:13:27.507 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:13:27.511 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:13:27.591 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:13:27.699  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 10:13:27.703 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:13:27.711 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:13:27.810 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:13:28.065  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 10:13:28.069 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:13:28.075 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:13:28.391 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:13:28.480  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 10:13:28.583 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:13:28.587 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:13:28.670 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:13:28.780  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 10:13:28.801 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:13:28.808 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:13:28.819 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:13:28.826 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:28.939  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 10:13:28.941 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:13:28.948 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:13:28.956 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:13:28.962 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:13:28.971 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.010 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.118  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 10:13:29.120 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:13:29.127 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:13:29.135 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:13:29.141 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:13:29.161 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.166 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.171 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.264  INFO 996 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 10:13:29.266 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:13:29.273 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:13:29.279 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:13:29.283 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:13:29.288 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.309 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.312 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:29.322 DEBUG 996 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:13:34.441  INFO 996 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 10:13:34.441  INFO 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 10:13:34.441 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 10:13:34.441 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 10:13:34.441 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 10:13:34.442 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@20a973d4
2021-10-20 10:13:34.443 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1720e7bd
2021-10-20 10:13:34.443 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 10:13:34.443  INFO 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 10:13:34.466 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 10:13:34.469 DEBUG 996 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 10:13:34.483 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 10:13:34.491 ERROR 996 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 10:13:34.494 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 10:13:34.496 DEBUG 996 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 10:13:34.510 DEBUG 996 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 10:13:34.511 DEBUG 996 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 10:13:34 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 10:13:34.528 DEBUG 996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 10:15:19.315  INFO 996 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:15:19.320  INFO 996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 10:15:29.323  INFO 996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 10:15:32.488  INFO 1004 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1004 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 10:15:32.490  INFO 1004 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 10:15:32.534  INFO 1004 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 10:15:32.535  INFO 1004 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 10:15:33.258  INFO 1004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 10:15:33.310  INFO 1004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-10-20 10:15:33.789  INFO 1004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 10:15:33.797  INFO 1004 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 10:15:33.797  INFO 1004 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 10:15:33.864  INFO 1004 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 10:15:33.864  INFO 1004 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1329 ms
2021-10-20 10:15:34.017  INFO 1004 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 10:15:34.060  INFO 1004 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 10:15:34.165  INFO 1004 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 10:15:34.238  INFO 1004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 10:15:34.550  INFO 1004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 10:15:34.575  INFO 1004 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 10:15:35.368  INFO 1004 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 10:15:35.381  INFO 1004 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:15:35.717  WARN 1004 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 10:15:35.929 DEBUG 1004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 10:15:36.053  INFO 1004 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54f17e3b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c802b34, org.springframework.security.web.header.HeaderWriterFilter@4dd74da9, org.springframework.security.web.authentication.logout.LogoutFilter@78e00b1f, com.example.login.filter.CustomAuthorizazionFilter@466e7d6a, com.example.login.filter.CustomAuthenticationFilter@2a30df79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@634a591b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c72a46c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64660a62, org.springframework.security.web.session.SessionManagementFilter@32349fc6, org.springframework.security.web.access.ExceptionTranslationFilter@7f285436, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7490497f]
2021-10-20 10:15:36.156  INFO 1004 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 10:15:36.160 DEBUG 1004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 10:15:36.184 DEBUG 1004 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 10:15:36.198 DEBUG 1004 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 10:15:36.203 DEBUG 1004 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 10:15:36.283  INFO 1004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 10:15:36.464  INFO 1004 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.292 seconds (JVM running for 4.95)
2021-10-20 10:15:36.580 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 10:15:36.695 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:15:36.825 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 10:15:36.839  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 10:15:36.847 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:15:36.862 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 10:15:36.870 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:15:36.887 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:15:36.914 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:15:36.944 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:15:37.119  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 10:15:37.186 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:15:37.319 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:15:37.467 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:15:37.655  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 10:15:37.663 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:15:37.668 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:15:37.754 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:15:37.847  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 10:15:37.851 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:15:37.857 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:15:38.143 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:15:38.302  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 10:15:38.315 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:15:38.453 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:15:38.575 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:15:38.658  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 10:15:38.756 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:15:38.760 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:15:38.844 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:15:39.254  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 10:15:39.267 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:15:39.273 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:15:39.305 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:15:39.311 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.404  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 10:15:39.404 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:15:39.410 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:15:39.414 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:15:39.420 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:15:39.437 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.441 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.514  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 10:15:39.514 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:15:39.520 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:15:39.526 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:15:39.532 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:15:39.542 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.547 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.552 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.627  INFO 1004 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 10:15:39.628 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:15:39.635 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:15:39.644 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:15:39.664 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:15:39.677 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.709 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.714 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:15:39.718 DEBUG 1004 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:16:48.187  INFO 1004 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 10:16:48.188  INFO 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 10:16:48.189 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 10:16:48.189 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 10:16:48.189 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 10:16:48.190 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@67af8fcd
2021-10-20 10:16:48.190 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6f852b19
2021-10-20 10:16:48.191 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 10:16:48.191  INFO 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-10-20 10:16:48.213 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 10:16:48.215 DEBUG 1004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 10:17:40.132  WARN 1004 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s480ms).
2021-10-20 10:17:40.154 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.RuntimeException: Refresh the token is missing
2021-10-20 10:17:40.179 ERROR 1004 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: Refresh the token is missing] with root cause

java.lang.RuntimeException: Refresh the token is missing
	at com.example.login.Api.UserResource.refreshToken(UserResource.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 10:17:40.185 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2021-10-20 10:17:40.190 DEBUG 1004 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 10:17:40.208 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 10:17:40.209 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 10:17:40 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.R (truncated)...]
2021-10-20 10:17:40.228 DEBUG 1004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 10:17:42.423 DEBUG 1004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 10:17:42.423 DEBUG 1004 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 10:17:46.714  INFO 1004 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : Fetching user user
2021-10-20 10:17:46.715 DEBUG 1004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:17:46.770 DEBUG 1004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:17:46.909 DEBUG 1004 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:18:11.604  INFO 1004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:18:11.608  INFO 1004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 10:18:11.658  INFO 1004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 10:18:49.741  INFO 1016 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1016 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 10:18:49.743  INFO 1016 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 10:18:49.780  INFO 1016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 10:18:49.780  INFO 1016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 10:18:50.546  INFO 1016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 10:18:50.593  INFO 1016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-10-20 10:18:51.131  INFO 1016 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 10:18:51.140  INFO 1016 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 10:18:51.140  INFO 1016 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 10:18:51.205  INFO 1016 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 10:18:51.205  INFO 1016 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1425 ms
2021-10-20 10:18:51.369  INFO 1016 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 10:18:51.453  INFO 1016 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 10:18:51.594  INFO 1016 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 10:18:51.662  INFO 1016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 10:18:51.990  INFO 1016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 10:18:52.022  INFO 1016 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 10:18:52.709  INFO 1016 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 10:18:52.719  INFO 1016 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 10:18:53.030  WARN 1016 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 10:18:53.254 DEBUG 1016 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 10:18:53.390  INFO 1016 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5587c195, org.springframework.security.web.context.SecurityContextPersistenceFilter@5726c80d, org.springframework.security.web.header.HeaderWriterFilter@4770677d, org.springframework.security.web.authentication.logout.LogoutFilter@333f737e, com.example.login.filter.CustomAuthorizazionFilter@2392512f, com.example.login.filter.CustomAuthenticationFilter@4a8584db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69513d27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41484a9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11d68983, org.springframework.security.web.session.SessionManagementFilter@2ea9fbcd, org.springframework.security.web.access.ExceptionTranslationFilter@7cb3f676, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@134260db]
2021-10-20 10:18:53.491  INFO 1016 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 10:18:53.495 DEBUG 1016 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 10:18:53.519 DEBUG 1016 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 10:18:53.532 DEBUG 1016 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 10:18:53.538 DEBUG 1016 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 10:18:53.622  INFO 1016 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 10:18:53.810  INFO 1016 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.323 seconds (JVM running for 4.87)
2021-10-20 10:18:53.916 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 10:18:53.942 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:18:53.973 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 10:18:53.978  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 10:18:53.982 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:18:54.050 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 10:18:54.055 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:18:54.059 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:18:54.063 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:18:54.067 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 10:18:54.172  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 10:18:54.187 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:18:54.238 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:18:54.361 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:18:54.616  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 10:18:54.621 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:18:54.643 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:18:55.103 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:18:55.178  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 10:18:55.186 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:18:55.190 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:18:55.259 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:18:55.351  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 10:18:55.360 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:18:55.365 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:18:55.449 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 10:18:55.587  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 10:18:55.685 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:18:55.689 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:18:55.764 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:18:55.877  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 10:18:55.894 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:18:55.901 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:18:55.928 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:18:55.935 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.017  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 10:18:56.019 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:18:56.024 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:18:56.032 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:18:56.038 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:18:56.062 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.067 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.196  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 10:18:56.197 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:18:56.204 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:18:56.212 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:18:56.218 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:18:56.250 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.266 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.270 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.337  INFO 1016 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 10:18:56.354 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 10:18:56.359 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 10:18:56.367 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 10:18:56.371 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 10:18:56.383 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.387 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.390 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:18:56.394 DEBUG 1016 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 10:19:00.297  INFO 1016 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 10:19:00.297  INFO 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 10:19:00.297 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 10:19:00.297 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 10:19:00.297 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 10:19:00.298 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d3c9ac2
2021-10-20 10:19:00.299 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3395cadc
2021-10-20 10:19:00.299 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 10:19:00.299  INFO 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 10:19:00.319 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 10:19:00.325 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 10:19:00.331 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 10:19:00.331 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 10:19:00.332 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 10:19:00.333 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 10:19:00.335 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.345 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 10:19:00.347 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.525 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.526 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.527 DEBUG 1016 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.528 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.528 DEBUG 1016 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.528 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.529 DEBUG 1016 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.529 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.530 DEBUG 1016 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.530 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.531 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.537 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.541 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.545 DEBUG 1016 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.553 DEBUG 1016 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.784 DEBUG 1016 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 10:19:00.786 DEBUG 1016 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 10:19:00.794 DEBUG 1016 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 10:19:00.795 DEBUG 1016 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:00.799 DEBUG 1016 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.802 DEBUG 1016 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 10:19:00.830 DEBUG 1016 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@46b7f8d6]
2021-10-20 10:19:00.840 DEBUG 1016 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.844 DEBUG 1016 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 10:19:00.845 DEBUG 1016 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 10:19:00.845 DEBUG 1016 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 10:19:00.846 DEBUG 1016 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@90dd619]
2021-10-20 10:19:00.847 DEBUG 1016 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.851 DEBUG 1016 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 10:19:00.851 DEBUG 1016 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 10:19:00.852 DEBUG 1016 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 10:19:00.853 DEBUG 1016 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@7ae6c08b]]
2021-10-20 10:19:00.855 DEBUG 1016 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:00.894 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 10:19:00.894 DEBUG 1016 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 10:19:00.968 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 10:19:00.970 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@a59fba8]
2021-10-20 10:19:00.970 DEBUG 1016 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:03.581 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 10:19:03.582 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:03.584 DEBUG 1016 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:04.342 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 10:19:04.343 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 10:19:04.345 DEBUG 1016 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:19:15.608 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 10:19:15.609 DEBUG 1016 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 10:19:15.654 DEBUG 1016 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=string@gmail.com, username=string, name=string, surname=string, password=string, (truncated)...]
2021-10-20 10:19:15.661 DEBUG 1016 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.email=?
2021-10-20 10:19:15.718 DEBUG 1016 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 10:19:15.727 DEBUG 1016 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 10:19:15.849 DEBUG 1016 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 10:19:15.985 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 10:19:15.986 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=114, email=string@gmail.com, username=string, name=string, surname=string, password=524dd6df (truncated)...]
2021-10-20 10:19:15.991 DEBUG 1016 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 10:27:31.014  WARN 1016 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s897ms).
2021-10-20 11:01:25.685  INFO 1016 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:01:25.702  INFO 1016 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:01:35.707  INFO 1016 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:01:43.403  INFO 1225 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1225 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:01:43.405  INFO 1225 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:01:43.449  INFO 1225 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:01:43.450  INFO 1225 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:01:44.228  INFO 1225 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:01:44.273  INFO 1225 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2021-10-20 11:01:44.752  INFO 1225 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:01:44.759  INFO 1225 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:01:44.759  INFO 1225 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:01:44.834  INFO 1225 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:01:44.834  INFO 1225 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1384 ms
2021-10-20 11:01:44.964  INFO 1225 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:01:45.002  INFO 1225 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:01:45.088  INFO 1225 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:01:45.156  INFO 1225 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:01:45.441  INFO 1225 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:01:45.459  INFO 1225 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:01:46.118  INFO 1225 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:01:46.129  INFO 1225 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:01:46.517  WARN 1225 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:01:46.767 DEBUG 1225 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:01:46.915  INFO 1225 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@611ae848, org.springframework.security.web.context.SecurityContextPersistenceFilter@527bf773, org.springframework.security.web.header.HeaderWriterFilter@2ce36481, org.springframework.security.web.authentication.logout.LogoutFilter@39466d2d, com.example.login.filter.CustomAuthorizazionFilter@2f705629, com.example.login.filter.CustomAuthenticationFilter@520e664a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42888174, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@450edfda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4204b3bd, org.springframework.security.web.session.SessionManagementFilter@49e742fe, org.springframework.security.web.access.ExceptionTranslationFilter@5e0236e2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c0b4847]
2021-10-20 11:01:47.030  INFO 1225 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:01:47.034 DEBUG 1225 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:01:47.058 DEBUG 1225 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:01:47.072 DEBUG 1225 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:01:47.077 DEBUG 1225 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:01:47.160  INFO 1225 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:01:47.344  INFO 1225 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.215 seconds (JVM running for 4.768)
2021-10-20 11:01:47.432 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 11:01:47.490 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:47.521 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:47.603 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:01:47.610  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:01:47.614 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:01:47.642 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:01:47.647 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:01:47.652 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:01:47.655 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:01:47.659 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:01:47.663 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:01:47.790  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:01:47.808 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:01:47.834 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:01:47.940 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:01:48.106  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:01:48.109 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:01:48.113 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:01:48.359 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:01:48.519  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:01:48.522 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:01:48.526 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:01:48.615 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:01:48.730  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:01:48.735 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:01:48.740 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:01:48.850 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:01:48.964  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:01:49.058 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:01:49.062 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:01:49.137 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:01:49.231  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:01:49.249 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:01:49.255 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:49.265 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:01:49.272 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.375  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:01:49.377 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:01:49.383 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:49.389 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:01:49.395 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:01:49.403 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.416 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.524  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:01:49.525 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:01:49.531 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:49.537 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:01:49.543 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:01:49.567 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.595 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.600 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.686  INFO 1225 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:01:49.687 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:01:49.693 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:01:49.699 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:01:49.705 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:01:49.734 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.738 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.744 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:01:49.748 DEBUG 1225 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:02:28.237  INFO 1225 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:02:28.238  INFO 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:02:28.238 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:02:28.238 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:02:28.238 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:02:28.239 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@364c1f6
2021-10-20 11:02:28.239 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@43cc796b
2021-10-20 11:02:28.240 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:02:28.240  INFO 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 11:02:28.266 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 11:02:28.275 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 11:02:28.284 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 11:02:28.284 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 11:02:28.286 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 11:02:28.288 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 11:02:28.290 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.305 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 11:02:28.308 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.366 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.367 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.369 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.369 DEBUG 1225 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.370 DEBUG 1225 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.370 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.370 DEBUG 1225 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.370 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.371 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.370 DEBUG 1225 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.371 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.379 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.384 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.387 DEBUG 1225 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.397 DEBUG 1225 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.632 DEBUG 1225 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 11:02:28.633 DEBUG 1225 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 11:02:28.633 DEBUG 1225 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.634 DEBUG 1225 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.637 DEBUG 1225 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.648 DEBUG 1225 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:02:28.674 DEBUG 1225 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@43d74b8]
2021-10-20 11:02:28.684 DEBUG 1225 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.688 DEBUG 1225 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 11:02:28.688 DEBUG 1225 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 11:02:28.688 DEBUG 1225 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:02:28.690 DEBUG 1225 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@38f69143]
2021-10-20 11:02:28.690 DEBUG 1225 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.695 DEBUG 1225 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 11:02:28.695 DEBUG 1225 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 11:02:28.696 DEBUG 1225 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:02:28.697 DEBUG 1225 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@6a644860]]
2021-10-20 11:02:28.700 DEBUG 1225 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.741 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 11:02:28.742 DEBUG 1225 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 11:02:28.746 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:02:28.747 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:02:28.751 DEBUG 1225 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:28.829 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 11:02:28.831 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@3b925493]
2021-10-20 11:02:28.832 DEBUG 1225 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:39.049 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:02:39.050 DEBUG 1225 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:02:39.091 DEBUG 1225 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=st (truncated)...]
2021-10-20 11:02:39.097 DEBUG 1225 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.email=?
2021-10-20 11:02:41.776 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:02:41.776 DEBUG 1225 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:02:41.777 DEBUG 1225 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=st (truncated)...]
2021-10-20 11:02:41.777 DEBUG 1225 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.email=?
2021-10-20 11:02:42.101 DEBUG 1225 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:02:42.105 DEBUG 1225 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:02:42.240 DEBUG 1225 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:02:42.373 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:02:42.374 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=120, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=8d1 (truncated)...]
2021-10-20 11:02:42.379 DEBUG 1225 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:02:43.653 DEBUG 1225 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:02:43.663 DEBUG 1225 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:02:43.806 DEBUG 1225 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:02:43.934 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:02:43.934 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=121, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=4f8 (truncated)...]
2021-10-20 11:02:43.936 DEBUG 1225 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:03:32.720  WARN 1225 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@59b308a2 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2021-10-20 11:03:37.725  WARN 1225 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6df2e431 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2021-10-20 11:03:42.728  WARN 1225 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@74b22764 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2021-10-20 11:03:47.731  WARN 1225 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@a2232ba (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2021-10-20 11:03:52.736  WARN 1225 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@18ce9554 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2021-10-20 11:03:52.739  WARN 1225 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08003
2021-10-20 11:03:52.740 ERROR 1225 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : HikariPool-1 - Connection is not available, request timed out after 30030ms.
2021-10-20 11:03:52.740 ERROR 1225 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : No operations allowed after connection closed.
2021-10-20 11:03:52.754 ERROR 1225 --- [http-nio-8080-exec-4] c.e.l.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:37) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.10.jar:5.3.10]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]
	at com.example.login.Service.UserServiceImpl$$EnhancerBySpringCGLIB$$d8bf1981.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.5.2.jar:5.5.2]
	... 58 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:111) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:138) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:276) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:284) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164) ~[spring-orm-5.3.10.jar:5.3.10]
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421) ~[spring-orm-5.3.10.jar:5.3.10]
	... 68 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30030ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	... 75 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2480) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:566) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186) ~[HikariCP-4.0.3.jar:na]
	... 80 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:758) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:568) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2476) ~[mysql-connector-java-8.0.26.jar:8.0.26]
	... 83 common frames omitted

2021-10-20 11:05:25.057  INFO 1225 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:05:25.069  INFO 1225 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:05:26.214  INFO 1225 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:05:29.188  INFO 1263 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1263 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:05:29.191  INFO 1263 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:05:29.251  INFO 1263 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:05:29.251  INFO 1263 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:05:30.501  INFO 1263 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:05:30.555  INFO 1263 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-10-20 11:05:31.228  INFO 1263 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:05:31.236  INFO 1263 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:05:31.237  INFO 1263 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:05:31.291  INFO 1263 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:05:31.291  INFO 1263 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2039 ms
2021-10-20 11:05:31.417  INFO 1263 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:05:31.468  INFO 1263 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:05:31.578  INFO 1263 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:05:31.710  INFO 1263 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:05:32.208  INFO 1263 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:05:32.234  INFO 1263 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:05:33.050  INFO 1263 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:05:33.063  INFO 1263 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:05:33.416  WARN 1263 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:05:33.666 DEBUG 1263 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:05:33.826  INFO 1263 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68649e5f, org.springframework.security.web.context.SecurityContextPersistenceFilter@dbc776, org.springframework.security.web.header.HeaderWriterFilter@7d97637e, org.springframework.security.web.authentication.logout.LogoutFilter@7060ef76, com.example.login.filter.CustomAuthorizazionFilter@f86079d, com.example.login.filter.CustomAuthenticationFilter@46355c1d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@562d2e2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ec3a187, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10db02a7, org.springframework.security.web.session.SessionManagementFilter@4a4aad46, org.springframework.security.web.access.ExceptionTranslationFilter@13b4c3d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1bed7d7e]
2021-10-20 11:05:33.924  INFO 1263 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:05:33.928 DEBUG 1263 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:05:33.954 DEBUG 1263 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:05:33.973 DEBUG 1263 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:05:33.979 DEBUG 1263 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:05:34.067  INFO 1263 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:05:34.274  INFO 1263 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 5.496 seconds (JVM running for 6.373)
2021-10-20 11:05:34.432 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 11:05:34.513 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:34.524 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:34.529 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:34.561 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:05:34.569  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:05:34.575 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:05:34.714 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:05:34.981 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:05:34.988 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:05:34.997 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:05:35.005 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:05:35.011 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:05:35.016 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:05:35.401  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:05:35.422 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:05:35.558 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:05:35.701 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:05:35.899  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:05:35.981 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:05:35.989 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:05:36.075 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:05:36.307  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:05:36.311 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:05:36.358 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:05:36.606 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:05:36.747  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:05:36.758 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:05:36.763 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:05:36.828 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:05:37.108  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:05:37.231 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:05:37.240 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:05:37.319 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:05:37.637  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:05:37.654 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:05:37.664 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:38.252 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:05:38.271 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:38.596  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:05:38.597 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:05:38.603 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:38.610 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:05:38.616 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:05:38.668 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:38.700 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:38.932  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:05:38.933 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:05:38.942 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:38.949 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:05:38.954 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:05:39.086 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.156 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.165 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.257  INFO 1263 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:05:39.258 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:05:39.301 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:05:39.309 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:05:39.316 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:05:39.324 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.340 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.344 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:39.351 DEBUG 1263 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:05:48.129  INFO 1263 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:05:48.130  INFO 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:05:48.130 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:05:48.130 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:05:48.130 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:05:48.131 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4340c690
2021-10-20 11:05:48.131 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7b66c4d
2021-10-20 11:05:48.131 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:05:48.131  INFO 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-10-20 11:05:48.152 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 11:05:48.157 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 11:05:48.163 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 11:05:48.164 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 11:05:48.165 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 11:05:48.167 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 11:05:48.168 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.178 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 11:05:48.181 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.221 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.222 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.225 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.225 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.225 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.225 DEBUG 1263 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.225 DEBUG 1263 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.226 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.226 DEBUG 1263 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.226 DEBUG 1263 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.226 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.236 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.237 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.247 DEBUG 1263 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.252 DEBUG 1263 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.460 DEBUG 1263 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 11:05:48.462 DEBUG 1263 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 11:05:48.462 DEBUG 1263 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.463 DEBUG 1263 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.466 DEBUG 1263 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.475 DEBUG 1263 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:05:48.498 DEBUG 1263 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@2d6f1109]
2021-10-20 11:05:48.507 DEBUG 1263 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.511 DEBUG 1263 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 11:05:48.512 DEBUG 1263 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 11:05:48.512 DEBUG 1263 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:05:48.514 DEBUG 1263 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@198877bc]
2021-10-20 11:05:48.515 DEBUG 1263 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.519 DEBUG 1263 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 11:05:48.519 DEBUG 1263 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 11:05:48.520 DEBUG 1263 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:05:48.521 DEBUG 1263 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@1fd86fb2]]
2021-10-20 11:05:48.523 DEBUG 1263 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.572 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 11:05:48.573 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:05:48.573 DEBUG 1263 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 11:05:48.573 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:05:48.575 DEBUG 1263 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:05:48.659 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 11:05:48.660 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@77bfc035]
2021-10-20 11:05:48.661 DEBUG 1263 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:06:02.140 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:06:02.140 DEBUG 1263 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:06:02.179 DEBUG 1263 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=gahofag509@wii999.com, username=string, name=string, surname=gg, password=string (truncated)...]
2021-10-20 11:06:02.185 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.email=?
2021-10-20 11:06:06.623 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:06:06.628 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:06:06.778 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:06:06.916 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:06:06.917 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=127, email=gahofag509@wii999.com, username=string, name=string, surname=gg, password=14054d4 (truncated)...]
2021-10-20 11:06:06.921 DEBUG 1263 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:06:42.193 DEBUG 1263 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:06:42.199 ERROR 1263 --- [http-nio-8080-exec-5] c.example.login.Service.UserServiceImpl  : User not found in database
2021-10-20 11:08:14.183 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:08:14.196 DEBUG 1263 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:08:14.201  INFO 1263 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 11:08:14.214  WARN 1263 --- [http-nio-8080-exec-3] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2021-10-20 11:08:28.077 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:08:28.078 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:08:28.080 DEBUG 1263 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:07.316  INFO 1263 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:11:07.326  INFO 1263 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:11:17.333  INFO 1263 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:11:21.630  INFO 1279 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1279 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:11:21.632  INFO 1279 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:11:21.685  INFO 1279 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:11:21.685  INFO 1279 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:11:22.581  INFO 1279 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:11:22.633  INFO 1279 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-10-20 11:11:23.244  INFO 1279 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:11:23.252  INFO 1279 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:11:23.252  INFO 1279 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:11:23.305  INFO 1279 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:11:23.306  INFO 1279 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1620 ms
2021-10-20 11:11:23.507  INFO 1279 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:11:23.555  INFO 1279 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:11:23.658  INFO 1279 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:11:23.732  INFO 1279 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:11:25.740  INFO 1279 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:11:25.764  INFO 1279 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:11:26.486  INFO 1279 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:11:26.498  INFO 1279 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:11:26.835  WARN 1279 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:11:27.067 DEBUG 1279 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 12 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:11:27.214  INFO 1279 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c7cb0c0, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a4aad46, org.springframework.security.web.header.HeaderWriterFilter@84aa6d7, org.springframework.security.web.authentication.logout.LogoutFilter@124724b4, com.example.login.filter.CustomAuthorizazionFilter@15486e02, com.example.login.filter.CustomAuthenticationFilter@68649e5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@dbc776, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e8a9aa2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f86079d, org.springframework.security.web.session.SessionManagementFilter@7d97637e, org.springframework.security.web.access.ExceptionTranslationFilter@75480ba8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ba8c9b4]
2021-10-20 11:11:27.332  INFO 1279 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:11:27.335 DEBUG 1279 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:11:27.368 DEBUG 1279 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:11:27.391 DEBUG 1279 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:11:27.397 DEBUG 1279 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:11:27.487  INFO 1279 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:11:27.673  INFO 1279 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 6.381 seconds (JVM running for 7.02)
2021-10-20 11:11:27.793 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_
2021-10-20 11:11:27.833 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:27.853 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:27.895 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:11:27.902  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:11:27.907 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:11:27.954 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:11:27.961 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:11:27.968 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:11:27.974 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:11:27.979 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:11:27.987 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:11:28.086  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:11:28.106 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:11:28.112 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:11:28.239 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:11:28.331  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:11:28.336 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:11:28.351 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:11:28.764 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:11:29.008  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:11:29.013 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:11:29.023 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:11:29.183 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:11:29.301  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:11:29.307 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:11:29.313 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:11:29.458 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:11:29.659  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:11:29.761 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:11:29.777 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:11:29.896 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:11:30.012  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:11:30.031 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:11:30.039 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:30.102 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:11:30.110 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.274  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:11:30.275 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:11:30.282 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:30.294 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:11:30.324 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:11:30.341 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.366 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.470  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:11:30.471 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:11:30.487 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:30.494 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:11:30.502 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:11:30.517 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.522 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.535 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.627  INFO 1279 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:11:30.628 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:11:30.635 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:11:30.644 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:11:30.653 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:11:30.661 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.666 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.671 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:30.677 DEBUG 1279 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:11:51.772  INFO 1279 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:11:51.772  INFO 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:11:51.773 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:11:51.773 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:11:51.773 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:11:51.774 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1da6b6e3
2021-10-20 11:11:51.774 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5ee32ed7
2021-10-20 11:11:51.774 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:11:51.774  INFO 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 11:11:51.802 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 11:11:51.808 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 11:11:51.830 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 11:11:51.830 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 11:11:51.832 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 11:11:51.833 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 11:11:51.835 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.847 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 11:11:51.849 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:51.891 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 11:11:51.892 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.895 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 11:11:51.895 DEBUG 1279 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 11:11:51.895 DEBUG 1279 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 11:11:51.895 DEBUG 1279 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 11:11:51.895 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:51.896 DEBUG 1279 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.896 DEBUG 1279 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.896 DEBUG 1279 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.896 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:51.902 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:51.909 DEBUG 1279 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:51.912 DEBUG 1279 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:51.923 DEBUG 1279 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:52.113 DEBUG 1279 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 11:11:52.113 DEBUG 1279 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:11:52.114 DEBUG 1279 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 11:11:52.114 DEBUG 1279 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:52.116 DEBUG 1279 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:52.126 DEBUG 1279 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:11:52.149 DEBUG 1279 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@610b25db]
2021-10-20 11:11:52.160 DEBUG 1279 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:52.164 DEBUG 1279 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 11:11:52.165 DEBUG 1279 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 11:11:52.165 DEBUG 1279 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:11:52.166 DEBUG 1279 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@3b7eee18]
2021-10-20 11:11:52.167 DEBUG 1279 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:52.171 DEBUG 1279 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 11:11:52.172 DEBUG 1279 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 11:11:52.173 DEBUG 1279 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:11:52.174 DEBUG 1279 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@3c19c9b5]]
2021-10-20 11:11:52.176 DEBUG 1279 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:52.224 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 11:11:52.224 DEBUG 1279 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 11:11:52.300 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 11:11:52.302 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@13a002c3]
2021-10-20 11:11:52.303 DEBUG 1279 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:11:53.822 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:11:53.823 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:11:53.826 DEBUG 1279 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:12:29.497 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:12:29.498 DEBUG 1279 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:12:29.536 DEBUG 1279 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=st (truncated)...]
2021-10-20 11:12:29.542 DEBUG 1279 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.email=?
2021-10-20 11:12:33.004 DEBUG 1279 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:12:33.009 DEBUG 1279 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:12:33.303 DEBUG 1279 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into user (birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:12:33.539 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:12:33.539 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=133, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=$2a (truncated)...]
2021-10-20 11:12:33.546 DEBUG 1279 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:12:53.074 DEBUG 1279 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.birthday as birthday2_1_, user0_.email as email3_1_, user0_.name as name4_1_, user0_.password as password5_1_, user0_.surname as surname6_1_, user0_.username as username7_1_ from user user0_ where user0_.username=?
2021-10-20 11:12:53.082 DEBUG 1279 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:12:53.091  INFO 1279 --- [http-nio-8080-exec-9] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 11:26:03.403  INFO 1279 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:26:03.409  INFO 1279 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:26:03.676  INFO 1279 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:26:08.045  INFO 1325 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1325 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:26:08.047  INFO 1325 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:26:08.079  INFO 1325 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:26:08.079  INFO 1325 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:26:08.791  INFO 1325 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:26:08.836  INFO 1325 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2021-10-20 11:26:09.284  INFO 1325 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:26:09.292  INFO 1325 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:26:09.292  INFO 1325 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:26:09.359  INFO 1325 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:26:09.359  INFO 1325 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1280 ms
2021-10-20 11:26:09.495  INFO 1325 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:26:09.541  INFO 1325 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:26:09.686  INFO 1325 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:26:09.764  INFO 1325 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:26:10.112  INFO 1325 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:26:10.138  INFO 1325 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:26:11.180 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : alter table user add column temp_password bit
2021-10-20 11:26:12.656  INFO 1325 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:26:12.669  INFO 1325 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:26:13.009  WARN 1325 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:26:13.232 DEBUG 1325 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:26:13.372  INFO 1325 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44ee685e, org.springframework.security.web.context.SecurityContextPersistenceFilter@40b7382c, org.springframework.security.web.header.HeaderWriterFilter@6c6baf22, org.springframework.security.web.authentication.logout.LogoutFilter@75b5ac01, com.example.login.filter.CustomAuthorizazionFilter@30e0373f, com.example.login.filter.CustomAuthenticationFilter@646fea28, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64b456b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18c9885a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@240f7227, org.springframework.security.web.session.SessionManagementFilter@42a01e0a, org.springframework.security.web.access.ExceptionTranslationFilter@13d8ae91, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1fbd3192]
2021-10-20 11:26:13.488  INFO 1325 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:26:13.491 DEBUG 1325 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:26:13.523 DEBUG 1325 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:26:13.539 DEBUG 1325 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:26:13.544 DEBUG 1325 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:26:13.644  INFO 1325 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:26:13.851  INFO 1325 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 6.066 seconds (JVM running for 6.534)
2021-10-20 11:26:13.977 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:26:14.042 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:14.084 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:14.148 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:26:14.269  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:26:14.276 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:26:14.286 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:26:14.293 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:26:14.297 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:26:14.302 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:26:14.307 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:26:14.527 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:26:14.671  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:26:14.693 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:26:14.712 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:26:15.168 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:26:15.315  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:26:15.320 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:26:15.325 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:26:15.550 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:26:15.944  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:26:15.959 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:26:15.964 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:26:16.195 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:26:16.288  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:26:16.296 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:26:16.301 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:26:16.376 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:26:16.505  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:26:16.606 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:26:16.610 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:26:16.710 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:26:17.130  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:26:17.147 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:26:17.155 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:17.173 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:26:17.225 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.467  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:26:17.468 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:26:17.475 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:17.491 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:26:17.504 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:26:17.652 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.690 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.758  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:26:17.759 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:26:17.766 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:17.773 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:26:17.779 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:26:17.793 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.853 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.858 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:17.957  INFO 1325 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:26:17.959 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:26:18.032 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:26:18.043 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:26:18.049 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:26:18.066 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:18.101 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:18.107 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:26:18.112 DEBUG 1325 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:31:29.130  INFO 1325 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:31:29.131  INFO 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:31:29.131 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:31:29.131 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:31:29.131 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:31:29.132 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1417e12f
2021-10-20 11:31:29.133 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@68394bed
2021-10-20 11:31:29.133 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:31:29.133  INFO 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 11:31:29.163 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 11:31:29.171 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 11:31:29.178 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 11:31:29.179 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 11:31:29.180 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 11:31:29.182 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 11:31:29.183 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.194 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 11:31:29.196 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.242 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.243 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.243 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.244 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.246 DEBUG 1325 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.246 DEBUG 1325 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.246 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.246 DEBUG 1325 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.246 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.247 DEBUG 1325 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.247 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.254 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.258 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.266 DEBUG 1325 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.275 DEBUG 1325 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.520 DEBUG 1325 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 11:31:29.521 DEBUG 1325 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.521 DEBUG 1325 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 11:31:29.522 DEBUG 1325 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.525 DEBUG 1325 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.537 DEBUG 1325 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:31:29.569 DEBUG 1325 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@247fe68a]
2021-10-20 11:31:29.581 DEBUG 1325 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.587 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 11:31:29.587 DEBUG 1325 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 11:31:29.588 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:31:29.590 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@40112ed9]
2021-10-20 11:31:29.591 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.597 DEBUG 1325 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 11:31:29.598 DEBUG 1325 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 11:31:29.598 DEBUG 1325 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:31:29.601 DEBUG 1325 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@58bea0d9]]
2021-10-20 11:31:29.603 DEBUG 1325 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.659 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 11:31:29.659 DEBUG 1325 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 11:31:29.669 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:31:29.670 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:29.673 DEBUG 1325 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:29.787 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 11:31:29.790 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@5d72a38a]
2021-10-20 11:31:29.793 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:57.348 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:31:57.349 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:57.351 DEBUG 1325 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:31:58.570 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:31:58.571 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:31:58.573 DEBUG 1325 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:32:42.900 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:32:42.901 DEBUG 1325 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:32:42.948 DEBUG 1325 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=st (truncated)...]
2021-10-20 11:32:42.956 DEBUG 1325 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 11:32:45.875 DEBUG 1325 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:32:45.896 DEBUG 1325 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:32:45.982 DEBUG 1325 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:32:46.096 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:32:46.096 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=139, email=gahofag509@wii999.com, username=string, name=string, surname=string, password=$2a (truncated)...]
2021-10-20 11:32:46.101 DEBUG 1325 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:33:13.181 DEBUG 1325 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:33:13.203 DEBUG 1325 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:33:13.808  INFO 1325 --- [http-nio-8080-exec-2] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 11:33:23.565 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:33:23.567 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:33:23.569 DEBUG 1325 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:41:38.610  INFO 1325 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:41:38.659  INFO 1325 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:41:48.666  INFO 1325 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:41:52.285  INFO 1372 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1372 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:41:52.286  INFO 1372 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:41:52.326  INFO 1372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:41:52.326  INFO 1372 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:41:53.019  INFO 1372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:41:53.062  INFO 1372 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-10-20 11:41:53.597  INFO 1372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:41:53.604  INFO 1372 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:41:53.605  INFO 1372 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:41:53.680  INFO 1372 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:41:53.680  INFO 1372 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1354 ms
2021-10-20 11:41:53.835  INFO 1372 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:41:53.903  INFO 1372 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:41:54.033  INFO 1372 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:41:54.105  INFO 1372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:41:54.476  INFO 1372 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:41:54.504  INFO 1372 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:41:55.335  INFO 1372 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:41:55.346  INFO 1372 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:41:55.681  WARN 1372 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:41:55.906 DEBUG 1372 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 13 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:41:56.066  INFO 1372 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41e1bc11, org.springframework.security.web.context.SecurityContextPersistenceFilter@7efa3b4a, org.springframework.security.web.header.HeaderWriterFilter@5b51c2ab, org.springframework.security.web.authentication.logout.LogoutFilter@1ebedc5e, com.example.login.filter.CustomAuthorizazionFilter@1669d696, com.example.login.filter.CustomAuthenticationFilter@3c812dd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@119a9c23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c3cbe66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6869e0a9, org.springframework.security.web.session.SessionManagementFilter@3c5e29c9, org.springframework.security.web.access.ExceptionTranslationFilter@74443063, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2db6db82]
2021-10-20 11:41:56.194  INFO 1372 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:41:56.197 DEBUG 1372 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:41:56.225 DEBUG 1372 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:41:56.240 DEBUG 1372 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:41:56.246 DEBUG 1372 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:41:56.338  INFO 1372 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:41:56.544  INFO 1372 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.532 seconds (JVM running for 5.183)
2021-10-20 11:41:56.645 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:41:56.714 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:56.747 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:56.832 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:41:56.841  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:41:56.848 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:41:56.872 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:41:56.880 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:41:56.886 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:41:56.893 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:41:56.899 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:41:56.905 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:41:57.028  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:41:57.048 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:41:57.069 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:41:57.156 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:41:57.265  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:41:57.271 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:41:57.275 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:41:57.344 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:41:57.520  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:41:57.529 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:41:57.533 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:41:57.729 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:41:57.987  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:41:57.992 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:41:57.997 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:41:58.077 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:41:58.170  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:41:58.278 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:41:58.283 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:41:58.355 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:41:58.514  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:41:58.531 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:41:58.537 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:58.549 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:41:58.558 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.650  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:41:58.651 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:41:58.659 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:58.665 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:41:58.673 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:41:58.710 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.731 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.836  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:41:58.837 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:41:58.843 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:58.850 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:41:58.858 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:41:58.887 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.897 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.902 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:58.973  INFO 1372 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:41:58.974 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:41:58.981 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:41:58.991 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:41:59.000 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:41:59.139 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:59.158 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:59.163 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:41:59.170 DEBUG 1372 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:44:49.089  INFO 1372 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:44:49.093  INFO 1372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:44:59.101  INFO 1372 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:45:02.836  INFO 1385 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1385 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:45:02.838  INFO 1385 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:45:02.874  INFO 1385 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:45:02.875  INFO 1385 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:45:03.559  INFO 1385 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:45:03.607  INFO 1385 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2021-10-20 11:45:04.137  INFO 1385 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:45:04.144  INFO 1385 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:45:04.144  INFO 1385 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:45:04.212  INFO 1385 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:45:04.212  INFO 1385 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1337 ms
2021-10-20 11:45:04.356  INFO 1385 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:45:04.417  INFO 1385 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:45:04.577  INFO 1385 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:45:04.656  INFO 1385 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:45:04.972  INFO 1385 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:45:05.001  INFO 1385 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:45:05.596  INFO 1385 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:45:05.607  INFO 1385 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:45:05.956  WARN 1385 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:45:06.192 DEBUG 1385 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:45:06.335  INFO 1385 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41e1bc11, org.springframework.security.web.context.SecurityContextPersistenceFilter@7efa3b4a, org.springframework.security.web.header.HeaderWriterFilter@5b51c2ab, org.springframework.security.web.authentication.logout.LogoutFilter@1ebedc5e, com.example.login.filter.CustomAuthorizazionFilter@1669d696, com.example.login.filter.CustomAuthenticationFilter@3c812dd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@119a9c23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c3cbe66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6869e0a9, org.springframework.security.web.session.SessionManagementFilter@3c5e29c9, org.springframework.security.web.access.ExceptionTranslationFilter@74443063, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2db6db82]
2021-10-20 11:45:06.449  INFO 1385 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:45:06.452 DEBUG 1385 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:45:06.481 DEBUG 1385 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:45:06.497 DEBUG 1385 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:45:06.503 DEBUG 1385 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:45:06.598  INFO 1385 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:45:06.807  INFO 1385 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.234 seconds (JVM running for 4.718)
2021-10-20 11:45:06.916 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:45:06.946 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:45:06.984 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:45:06.990  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:45:06.995 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:45:07.087 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:45:07.094 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:45:07.099 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:45:07.106 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:45:07.114 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:45:07.209  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:45:07.228 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:45:07.233 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:45:07.325 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:45:07.444  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:45:07.448 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:45:07.453 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:45:07.644 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:45:07.967  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:45:07.974 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:45:07.979 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:45:08.068 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:45:08.166  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:45:08.171 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:45:08.176 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:45:08.262 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:45:08.374  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:45:08.473 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:45:08.555 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:45:08.656 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:45:08.833  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:45:08.850 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:45:08.855 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:45:08.924 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:45:08.932 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.057  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:45:09.059 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:45:09.065 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:45:09.072 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:45:09.079 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:45:09.108 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.132 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.199  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:45:09.200 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:45:09.206 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:45:09.213 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:45:09.220 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:45:09.234 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.257 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.262 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.335  INFO 1385 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:45:09.336 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:45:09.346 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:45:09.355 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:45:09.362 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:45:09.390 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.411 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.415 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:45:09.420 DEBUG 1385 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:15.433  INFO 1385 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:46:15.436  INFO 1385 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:46:25.443  INFO 1385 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:46:28.767  INFO 1394 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1394 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:46:28.768  INFO 1394 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:46:28.806  INFO 1394 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:46:28.806  INFO 1394 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:46:29.486  INFO 1394 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:46:29.533  INFO 1394 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-10-20 11:46:29.998  INFO 1394 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:46:30.005  INFO 1394 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:46:30.006  INFO 1394 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:46:30.072  INFO 1394 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:46:30.073  INFO 1394 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1266 ms
2021-10-20 11:46:30.222  INFO 1394 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:46:30.278  INFO 1394 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:46:30.416  INFO 1394 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:46:30.489  INFO 1394 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:46:30.802  INFO 1394 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:46:30.825  INFO 1394 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:46:31.438  INFO 1394 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:46:31.450  INFO 1394 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:46:31.783  WARN 1394 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:46:32.003 DEBUG 1394 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:46:32.152  INFO 1394 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b514032, org.springframework.security.web.context.SecurityContextPersistenceFilter@710a2f48, org.springframework.security.web.header.HeaderWriterFilter@67954dc4, org.springframework.security.web.authentication.logout.LogoutFilter@70af46fd, com.example.login.filter.CustomAuthorizazionFilter@577cbea8, com.example.login.filter.CustomAuthenticationFilter@31a61bc5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76abf232, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3378d7e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46583649, org.springframework.security.web.session.SessionManagementFilter@3619928d, org.springframework.security.web.access.ExceptionTranslationFilter@291ef26b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c2177e5]
2021-10-20 11:46:32.274  INFO 1394 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:46:32.278 DEBUG 1394 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:46:32.308 DEBUG 1394 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:46:32.328 DEBUG 1394 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:46:32.333 DEBUG 1394 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:46:32.432  INFO 1394 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:46:32.650  INFO 1394 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.159 seconds (JVM running for 4.63)
2021-10-20 11:46:32.761 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:46:32.787 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:32.827 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:46:32.834  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:46:32.838 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:46:32.885 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:46:32.892 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:46:32.897 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:46:32.902 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:46:32.907 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:46:32.985  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:46:33.004 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:46:33.009 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:46:33.096 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:46:33.208  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:46:33.213 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:46:33.218 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:46:33.294 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:46:33.392  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:46:33.397 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:46:33.401 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:46:33.461 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:46:33.700  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:46:33.705 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:46:33.709 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:46:34.028 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:46:34.110  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:46:34.208 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:46:34.212 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:46:34.285 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:46:34.389  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:46:34.407 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:46:34.415 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:34.426 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:46:34.435 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:34.729  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:46:34.730 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:46:34.836 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:34.910 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:46:34.916 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:46:34.933 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:34.966 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.037  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:46:35.038 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:46:35.043 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:35.054 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:46:35.059 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:46:35.095 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.110 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.115 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.207  INFO 1394 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:46:35.209 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:46:35.216 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:35.226 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:46:35.233 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:46:35.246 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.262 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.265 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:35.271 DEBUG 1394 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:46:50.638  INFO 1394 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:46:50.639  INFO 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:46:50.639 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:46:50.639 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:46:50.639 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:46:50.640 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@24f24db6
2021-10-20 11:46:50.640 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@461aaaa8
2021-10-20 11:46:50.641 DEBUG 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:46:50.641  INFO 1394 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 11:46:50.755 DEBUG 1394 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:46:50.762 DEBUG 1394 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:46:50.771  INFO 1394 --- [http-nio-8080-exec-2] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:46:50.891 ERROR 1394 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: Cannot invoke "com.example.login.repository.UserRepository.findByUsername(String)" because "this.userRepository" is null
	at com.example.login.filter.CustomAuthenticationFilter.successfulAuthentication(CustomAuthenticationFilter.java:50) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:232) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 11:49:30.471  INFO 1394 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:49:30.478  INFO 1394 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:49:40.483  INFO 1394 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:49:43.385  INFO 1409 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1409 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:49:43.387  INFO 1409 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:49:43.432  INFO 1409 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:49:43.432  INFO 1409 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:49:44.246  INFO 1409 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:49:44.299  INFO 1409 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-10-20 11:49:44.847  INFO 1409 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:49:44.855  INFO 1409 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:49:44.855  INFO 1409 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:49:44.925  INFO 1409 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:49:44.925  INFO 1409 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1493 ms
2021-10-20 11:49:45.053  INFO 1409 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:49:45.096  INFO 1409 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:49:45.191  INFO 1409 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:49:45.257  INFO 1409 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:49:45.625  INFO 1409 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:49:45.653  INFO 1409 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:49:46.268  INFO 1409 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:49:46.282  INFO 1409 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:49:46.615  WARN 1409 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:49:46.838 DEBUG 1409 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:49:46.978  INFO 1409 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6591eb80, org.springframework.security.web.context.SecurityContextPersistenceFilter@630a7ea7, org.springframework.security.web.header.HeaderWriterFilter@2ecd55d1, org.springframework.security.web.authentication.logout.LogoutFilter@26429765, com.example.login.filter.CustomAuthorizazionFilter@51cce9c1, com.example.login.filter.CustomAuthenticationFilter@2c945683, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64fea1ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15e458bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7295e298, org.springframework.security.web.session.SessionManagementFilter@16578e64, org.springframework.security.web.access.ExceptionTranslationFilter@4376a2a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74d1ca29]
2021-10-20 11:49:47.094  INFO 1409 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:49:47.098 DEBUG 1409 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:49:47.128 DEBUG 1409 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:49:47.142 DEBUG 1409 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:49:47.147 DEBUG 1409 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:49:47.237  INFO 1409 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:49:47.454  INFO 1409 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.44 seconds (JVM running for 5.274)
2021-10-20 11:49:47.587 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:49:47.615 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:47.660 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:49:47.681  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:49:47.690 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:49:47.752 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:49:47.761 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:49:47.767 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:49:47.774 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:49:47.779 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:49:47.884  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:49:47.909 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:49:47.939 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:49:48.016 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:49:48.170  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:49:48.176 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:49:48.181 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:49:48.286 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:49:48.404  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:49:48.409 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:49:48.413 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:49:48.492 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:49:48.614  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:49:48.619 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:49:48.624 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:49:48.708 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:49:48.903  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:49:49.004 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:49:49.010 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:49:49.516 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:49:49.643  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:49:49.661 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:49:49.668 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:49.680 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:49:49.689 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.020  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:49:50.021 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:49:50.132 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:50.184 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:49:50.191 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:49:50.199 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.213 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.329  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:49:50.330 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:49:50.337 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:50.346 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:49:50.353 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:49:50.376 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.404 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.410 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.504  INFO 1409 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:49:50.505 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:49:50.513 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:50.536 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:49:50.545 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:49:50.554 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.562 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.570 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:50.576 DEBUG 1409 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:49:59.516  INFO 1409 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:49:59.517  INFO 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:49:59.517 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:49:59.517 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:49:59.517 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:49:59.523 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b523747
2021-10-20 11:49:59.523 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6739cba0
2021-10-20 11:49:59.523 DEBUG 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:49:59.523  INFO 1409 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2021-10-20 11:49:59.640 DEBUG 1409 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:49:59.648 DEBUG 1409 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:49:59.656  INFO 1409 --- [http-nio-8080-exec-2] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:50:11.763 ERROR 1409 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: Cannot invoke "com.example.login.repository.UserRepository.findByUsername(String)" because "this.userRepository" is null
	at com.example.login.filter.CustomAuthenticationFilter.successfulAuthentication(CustomAuthenticationFilter.java:50) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:232) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 11:50:27.930 DEBUG 1409 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:50:27.937 DEBUG 1409 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:50:27.944  INFO 1409 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:51:05.044  WARN 1409 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s315ms).
2021-10-20 11:51:05.051 ERROR 1409 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: Cannot invoke "com.example.login.repository.UserRepository.findByUsername(String)" because "this.userRepository" is null
	at com.example.login.filter.CustomAuthenticationFilter.successfulAuthentication(CustomAuthenticationFilter.java:50) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:232) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 11:51:05.161  INFO 1409 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:51:05.169  INFO 1409 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:51:05.289  INFO 1409 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:52:41.444  INFO 1422 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1422 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:52:41.446  INFO 1422 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:52:41.492  INFO 1422 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:52:41.492  INFO 1422 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:52:42.246  INFO 1422 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:52:42.293  INFO 1422 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-10-20 11:52:42.760  INFO 1422 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:52:42.767  INFO 1422 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:52:42.767  INFO 1422 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:52:42.824  INFO 1422 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:52:42.824  INFO 1422 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1332 ms
2021-10-20 11:52:42.953  INFO 1422 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:52:42.995  INFO 1422 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:52:43.092  INFO 1422 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:52:43.156  INFO 1422 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:52:43.450  INFO 1422 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:52:43.475  INFO 1422 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:52:44.090  INFO 1422 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:52:44.103  INFO 1422 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:52:44.436  WARN 1422 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:52:44.651 DEBUG 1422 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:52:44.798  INFO 1422 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6591eb80, org.springframework.security.web.context.SecurityContextPersistenceFilter@630a7ea7, org.springframework.security.web.header.HeaderWriterFilter@2ecd55d1, org.springframework.security.web.authentication.logout.LogoutFilter@26429765, com.example.login.filter.CustomAuthorizazionFilter@51cce9c1, com.example.login.filter.CustomAuthenticationFilter@2c945683, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64fea1ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15e458bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7295e298, org.springframework.security.web.session.SessionManagementFilter@16578e64, org.springframework.security.web.access.ExceptionTranslationFilter@4376a2a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74d1ca29]
2021-10-20 11:52:44.919  INFO 1422 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:52:44.923 DEBUG 1422 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:52:44.952 DEBUG 1422 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:52:44.967 DEBUG 1422 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:52:44.973 DEBUG 1422 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:52:45.061  INFO 1422 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:52:45.258  INFO 1422 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.128 seconds (JVM running for 4.724)
2021-10-20 11:52:45.385 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:52:45.406 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:52:45.439 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:52:45.460  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:52:45.470 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:52:45.530 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:52:45.537 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:52:45.542 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:52:45.546 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:52:45.551 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:52:45.655  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:52:45.679 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:52:45.687 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:52:45.796 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:52:45.960  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:52:45.966 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:52:45.973 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:52:46.104 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:52:46.421  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:52:46.425 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:52:46.433 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:52:46.494 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:52:46.576  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:52:46.580 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:52:46.585 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:52:46.672 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:52:46.782  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:52:46.881 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:52:46.931 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:52:47.008 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:52:47.135  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:52:47.155 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:52:47.162 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:52:47.244 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:52:47.257 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.339  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:52:47.340 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:52:47.347 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:52:47.358 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:52:47.364 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:52:47.369 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.377 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.456  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:52:47.458 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:52:47.464 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:52:47.474 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:52:47.480 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:52:47.502 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.535 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.551 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.640  INFO 1422 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:52:47.656 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:52:47.663 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:52:47.671 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:52:47.677 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:52:47.692 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.697 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.702 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:52:47.707 DEBUG 1422 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:53:09.370  INFO 1422 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:53:09.370  INFO 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:53:09.370 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:53:09.370 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:53:09.370 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:53:09.371 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b523747
2021-10-20 11:53:09.371 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6739cba0
2021-10-20 11:53:09.371 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:53:09.371  INFO 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-10-20 11:53:09.521 DEBUG 1422 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:53:09.527 DEBUG 1422 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:53:09.632  INFO 1422 --- [http-nio-8080-exec-2] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:53:19.560 DEBUG 1422 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:53:19.574 DEBUG 1422 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:53:35.081 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:53:35.091 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:53:35.105 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:53:46.675 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:53:46.676 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:53:46.679 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:54:00.908 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 11:54:00.909 DEBUG 1422 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 11:54:00.963 DEBUG 1422 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pas (truncated)...]
2021-10-20 11:54:00.975 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 11:54:03.470 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:54:03.475 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:54:03.554 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:54:03.668 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:54:03.668 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=165, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 11:54:03.680 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:25.521 DEBUG 1422 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:55:25.592 DEBUG 1422 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:55:25.618  INFO 1422 --- [http-nio-8080-exec-9] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 11:55:30.873 DEBUG 1422 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:55:30.945 DEBUG 1422 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:55:33.646 ERROR 1422 --- [http-nio-8080-exec-9] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 11:55:48.646 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:55:48.647 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:48.650 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.441 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 11:55:50.442 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 11:55:50.447 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 11:55:50.448 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 11:55:50.450 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 11:55:50.451 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 11:55:50.452 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.454 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 11:55:50.456 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.505 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.507 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.510 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.509 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.516 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.518 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.523 DEBUG 1422 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.533 DEBUG 1422 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.703 DEBUG 1422 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 11:55:50.703 DEBUG 1422 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:55:50.703 DEBUG 1422 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 11:55:50.704 DEBUG 1422 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:50.704 DEBUG 1422 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:55:50.706 DEBUG 1422 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.715 DEBUG 1422 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@52104278]
2021-10-20 11:55:50.716 DEBUG 1422 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.722 DEBUG 1422 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 11:55:50.722 DEBUG 1422 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 11:55:50.723 DEBUG 1422 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:55:50.725 DEBUG 1422 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@79c7bbc3]
2021-10-20 11:55:50.726 DEBUG 1422 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.731 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 11:55:50.731 DEBUG 1422 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 11:55:50.732 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 11:55:50.732 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@24f4f52a]]
2021-10-20 11:55:50.734 DEBUG 1422 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:50.771 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 11:55:50.772 DEBUG 1422 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 11:55:50.850 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 11:55:50.852 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@211e18c9]
2021-10-20 11:55:50.853 DEBUG 1422 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:51.979 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:55:51.980 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:51.982 DEBUG 1422 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:55:55.894 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:55:55.911 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:55:55.913 DEBUG 1422 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:56:09.731 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 11:56:09.732 DEBUG 1422 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(User, String)
2021-10-20 11:56:09.733 DEBUG 1422 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=string, username=string, name=string, surname=string, password=string, birthday= (truncated)...]
2021-10-20 11:56:09.837 DEBUG 1422 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:56:09.903 DEBUG 1422 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:56:10.005 DEBUG 1422 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:56:10.344 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:56:10.344 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=166, email=string, username=string, name=string, surname=string, password=$2a$10$vwprKXGea77 (truncated)...]
2021-10-20 11:56:10.346 DEBUG 1422 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:56:24.157 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:56:24.216 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:56:24.254 DEBUG 1422 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:56:24.289 ERROR 1422 --- [http-nio-8080-exec-5] c.e.l.filter.CustomAuthenticationFilter  : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.5.2.jar:5.5.2]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthenticationFilter.attemptAuthentication(CustomAuthenticationFilter.java:42) ~[classes/:na]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.10.jar:5.3.10]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.10.jar:5.3.10]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.10.jar:5.3.10]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.5.jar:2.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.10.jar:5.3.10]
	at jdk.proxy4/jdk.proxy4.$Proxy97.findByUsername(Unknown Source) ~[na:na]
	at com.example.login.Service.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:73) ~[classes/:na]
	at com.example.login.Service.UserServiceImpl$$FastClassBySpringCGLIB$$183a247b.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.10.jar:5.3.10]
	at com.example.login.Service.UserServiceImpl$$EnhancerBySpringCGLIB$$3e1b2f90.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.5.2.jar:5.5.2]
	... 58 common frames omitted
Caused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 2
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1659) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:196) ~[spring-data-jpa-2.5.5.jar:2.5.5]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.5.jar:2.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.5.jar:2.5.5]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.5.jar:2.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.5.jar:2.5.5]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.5.jar:2.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.5.jar:2.5.5]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.5.jar:2.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.5.jar:2.5.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.10.jar:5.3.10]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.10.jar:5.3.10]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.10.jar:5.3.10]
	... 79 common frames omitted

2021-10-20 11:57:17.078  INFO 1422 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:57:17.084  INFO 1422 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 11:57:17.142  INFO 1422 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 11:57:19.548  INFO 1438 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1438 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 11:57:19.549  INFO 1438 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 11:57:19.584  INFO 1438 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 11:57:19.585  INFO 1438 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 11:57:20.264  INFO 1438 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 11:57:20.307  INFO 1438 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2021-10-20 11:57:20.788  INFO 1438 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 11:57:20.799  INFO 1438 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 11:57:20.799  INFO 1438 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 11:57:20.873  INFO 1438 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 11:57:20.873  INFO 1438 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1288 ms
2021-10-20 11:57:21.015  INFO 1438 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 11:57:21.079  INFO 1438 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 11:57:21.245  INFO 1438 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 11:57:21.316  INFO 1438 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 11:57:21.632  INFO 1438 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 11:57:21.659  INFO 1438 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 11:57:22.422  INFO 1438 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 11:57:22.433  INFO 1438 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 11:57:22.769  WARN 1438 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 11:57:22.994 DEBUG 1438 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 11:57:23.129  INFO 1438 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6df67e18, org.springframework.security.web.context.SecurityContextPersistenceFilter@4051e8fb, org.springframework.security.web.header.HeaderWriterFilter@7bd98fa0, org.springframework.security.web.authentication.logout.LogoutFilter@3abb9bc9, com.example.login.filter.CustomAuthorizazionFilter@4d215bd2, com.example.login.filter.CustomAuthenticationFilter@63733b62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5988109a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cf73df3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1af9a214, org.springframework.security.web.session.SessionManagementFilter@f0c1b16, org.springframework.security.web.access.ExceptionTranslationFilter@3968ee1b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@787746a4]
2021-10-20 11:57:23.247  INFO 1438 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 11:57:23.252 DEBUG 1438 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 11:57:23.284 DEBUG 1438 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 11:57:23.301 DEBUG 1438 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 11:57:23.308 DEBUG 1438 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 11:57:23.396  INFO 1438 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 11:57:23.601  INFO 1438 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.306 seconds (JVM running for 4.85)
2021-10-20 11:57:23.713 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 11:57:23.739 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:23.749 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:23.755 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:23.873 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 11:57:23.880  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 11:57:23.886 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:57:23.926 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:57:23.932 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:57:23.936 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 11:57:23.941 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:57:23.946 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:57:23.954 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:57:23.959 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 11:57:24.040  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 11:57:24.060 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:57:24.066 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:57:24.334 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:57:24.526  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 11:57:24.531 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:57:24.536 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:57:24.622 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:57:24.715  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 11:57:24.719 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:57:24.724 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:57:24.811 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:57:24.899  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 11:57:24.904 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:57:24.909 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:57:24.972 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 11:57:25.072  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 11:57:25.178 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:57:25.184 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:57:25.264 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:57:25.364  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 11:57:25.381 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:57:25.390 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:25.405 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:57:25.433 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.525  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 11:57:25.527 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:57:25.532 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:25.539 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:57:25.545 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:57:25.557 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.562 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.636  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 11:57:25.637 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:57:25.644 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:25.653 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:57:25.660 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:57:25.673 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.698 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.706 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.782  INFO 1438 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 11:57:25.783 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:57:25.791 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:57:25.802 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 11:57:25.809 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 11:57:25.824 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.829 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.834 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:57:25.838 DEBUG 1438 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 11:58:30.354  INFO 1438 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 11:58:30.354  INFO 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 11:58:30.355 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 11:58:30.355 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 11:58:30.355 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 11:58:30.356 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@61392347
2021-10-20 11:58:30.356 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@13108eb7
2021-10-20 11:58:30.356 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 11:58:30.356  INFO 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 11:58:30.380 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:58:30.386 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:58:30.394 DEBUG 1438 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:58:31.653 DEBUG 1438 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 11:58:31.654 DEBUG 1438 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 11:58:31.657 DEBUG 1438 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:59:04.107 DEBUG 1438 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 11:59:04.108 DEBUG 1438 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(User, String)
2021-10-20 11:59:04.170 DEBUG 1438 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=string, username=string, name=string, surname=user, password=string, birthday=st (truncated)...]
2021-10-20 11:59:04.292 DEBUG 1438 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 11:59:04.350 DEBUG 1438 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 11:59:04.419 DEBUG 1438 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 11:59:04.510 DEBUG 1438 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 11:59:04.511 DEBUG 1438 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=172, email=string, username=string, name=string, surname=user, password=$2a$10$RWx/r5FUvZ7o/ (truncated)...]
2021-10-20 11:59:04.527 DEBUG 1438 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 11:59:18.977 DEBUG 1438 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:59:18.983 DEBUG 1438 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:59:19.060  INFO 1438 --- [http-nio-8080-exec-5] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:59:40.329 DEBUG 1438 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:59:40.334 DEBUG 1438 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 11:59:40.340  INFO 1438 --- [http-nio-8080-exec-6] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 11:59:40.451 DEBUG 1438 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 11:59:40.456 DEBUG 1438 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:04:55.596  INFO 1438 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:04:55.605  INFO 1438 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:05:05.615  INFO 1438 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:05:09.860  INFO 1459 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1459 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:05:09.862  INFO 1459 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:05:09.912  INFO 1459 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:05:09.913  INFO 1459 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:05:10.804  INFO 1459 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:05:10.851  INFO 1459 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2021-10-20 12:05:11.379  INFO 1459 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:05:11.386  INFO 1459 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:05:11.386  INFO 1459 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:05:11.455  INFO 1459 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:05:11.456  INFO 1459 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1543 ms
2021-10-20 12:05:11.667  INFO 1459 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:05:11.711  INFO 1459 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:05:11.834  INFO 1459 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:05:11.912  INFO 1459 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:05:12.230  INFO 1459 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:05:12.256  INFO 1459 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:05:13.096  INFO 1459 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:05:13.109  INFO 1459 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:05:13.440  WARN 1459 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:05:13.632 DEBUG 1459 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:05:13.761  INFO 1459 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@240f7227, org.springframework.security.web.context.SecurityContextPersistenceFilter@31298126, org.springframework.security.web.header.HeaderWriterFilter@71949b83, org.springframework.security.web.authentication.logout.LogoutFilter@3580ef8b, com.example.login.filter.CustomAuthorizazionFilter@13144260, com.example.login.filter.CustomAuthenticationFilter@227cc6f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cf53b9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@107e1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3959463f, org.springframework.security.web.session.SessionManagementFilter@26264c30, org.springframework.security.web.access.ExceptionTranslationFilter@3a9122c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7997e96f]
2021-10-20 12:05:13.873  INFO 1459 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:05:13.878 DEBUG 1459 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:05:13.906 DEBUG 1459 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:05:13.927 DEBUG 1459 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:05:13.933 DEBUG 1459 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:05:14.046  INFO 1459 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:05:14.245  INFO 1459 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.798 seconds (JVM running for 5.413)
2021-10-20 12:05:14.354 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:05:14.381 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:14.392 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:14.437 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:05:14.445  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:05:14.451 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:05:14.519 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:05:14.525 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:05:14.530 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:05:14.535 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:05:14.542 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:05:14.547 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:05:14.614  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:05:14.634 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:05:14.640 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:05:14.699 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:05:14.796  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:05:14.801 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:05:14.806 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:05:14.882 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:05:14.961  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:05:14.966 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:05:14.972 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:05:15.085 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:05:15.178  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:05:15.183 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:05:15.188 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:05:15.276 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:05:15.385  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:05:15.485 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:05:15.490 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:05:15.683 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:05:15.906  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:05:15.919 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:15.924 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:15.934 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:05:15.940 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.156  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:05:16.157 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:16.163 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:16.168 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:05:16.173 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:05:16.189 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.195 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.257  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:05:16.258 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:16.265 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:16.272 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:05:16.278 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:05:16.284 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.291 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.297 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.367  INFO 1459 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:05:16.368 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:16.375 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:16.385 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:05:16.394 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:05:16.406 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.423 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.428 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:16.434 DEBUG 1459 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:05:24.118  INFO 1459 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:05:24.118  INFO 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:05:24.119 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:05:24.119 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:05:24.119 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:05:24.120 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7778956b
2021-10-20 12:05:24.120 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@ed8abdb
2021-10-20 12:05:24.120 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:05:24.120  INFO 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-10-20 12:05:24.229 DEBUG 1459 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:24.288 DEBUG 1459 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:24.329  INFO 1459 --- [http-nio-8080-exec-2] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:05:24.447 DEBUG 1459 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:05:24.452 DEBUG 1459 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:05:37.966 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 12:05:37.971 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 12:05:37.978 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 12:05:37.978 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 12:05:37.980 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 12:05:37.982 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 12:05:37.983 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:37.991 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 12:05:37.994 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.039 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.040 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.043 DEBUG 1459 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.043 DEBUG 1459 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.043 DEBUG 1459 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.044 DEBUG 1459 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.044 DEBUG 1459 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.044 DEBUG 1459 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.044 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.045 DEBUG 1459 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.046 DEBUG 1459 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.053 DEBUG 1459 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.056 DEBUG 1459 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.059 DEBUG 1459 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.070 DEBUG 1459 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.265 DEBUG 1459 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 12:05:38.266 DEBUG 1459 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.266 DEBUG 1459 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 12:05:38.266 DEBUG 1459 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.268 DEBUG 1459 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.277 DEBUG 1459 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:05:38.296 DEBUG 1459 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@29c026ae]
2021-10-20 12:05:38.301 DEBUG 1459 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.306 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 12:05:38.306 DEBUG 1459 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 12:05:38.307 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:05:38.308 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@34fe898f]
2021-10-20 12:05:38.309 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.314 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 12:05:38.314 DEBUG 1459 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 12:05:38.314 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:05:38.315 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@1a824ab9]]
2021-10-20 12:05:38.317 DEBUG 1459 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.368 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 12:05:38.368 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:05:38.368 DEBUG 1459 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 12:05:38.369 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:05:38.370 DEBUG 1459 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:05:38.457 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 12:05:38.459 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@46d830ca]
2021-10-20 12:05:38.460 DEBUG 1459 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:11:56.956  WARN 1459 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m44s589ms).
2021-10-20 12:12:00.906 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:12:00.913 DEBUG 1459 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:12:00.918 DEBUG 1459 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{Foxstrock@gmail.com}"]
2021-10-20 12:12:00.929 DEBUG 1459 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:12:00.957 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.util.NoSuchElementException: No value present
2021-10-20 12:12:00.967 ERROR 1459 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.get(Optional.java:143) ~[na:na]
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:12:00.969 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:12:00.971 DEBUG 1459 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:12:00.975 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:12:00.975 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:12:00 CEST 2021, status=500, error=Internal Server Error, trace=java.util.N (truncated)...]
2021-10-20 12:12:00.978 DEBUG 1459 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:13:02.696  INFO 1459 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:13:02.704  INFO 1459 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:13:12.707  INFO 1459 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:13:16.064  INFO 1481 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1481 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:13:16.066  INFO 1481 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:13:16.113  INFO 1481 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:13:16.113  INFO 1481 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:13:16.881  INFO 1481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:13:16.925  INFO 1481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2021-10-20 12:13:17.386  INFO 1481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:13:17.393  INFO 1481 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:13:17.393  INFO 1481 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:13:17.457  INFO 1481 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:13:17.457  INFO 1481 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1344 ms
2021-10-20 12:13:17.590  INFO 1481 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:13:17.637  INFO 1481 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:13:17.733  INFO 1481 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:13:17.798  INFO 1481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:13:18.128  INFO 1481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:13:18.155  INFO 1481 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:13:18.715  INFO 1481 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:13:18.728  INFO 1481 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:13:19.086  WARN 1481 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:13:19.305 DEBUG 1481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:13:19.438  INFO 1481 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6591eb80, org.springframework.security.web.context.SecurityContextPersistenceFilter@630a7ea7, org.springframework.security.web.header.HeaderWriterFilter@2ecd55d1, org.springframework.security.web.authentication.logout.LogoutFilter@26429765, com.example.login.filter.CustomAuthorizazionFilter@51cce9c1, com.example.login.filter.CustomAuthenticationFilter@2c945683, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64fea1ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15e458bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7295e298, org.springframework.security.web.session.SessionManagementFilter@16578e64, org.springframework.security.web.access.ExceptionTranslationFilter@4376a2a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74d1ca29]
2021-10-20 12:13:19.556  INFO 1481 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:13:19.560 DEBUG 1481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:13:19.584 DEBUG 1481 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:13:19.600 DEBUG 1481 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:13:19.605 DEBUG 1481 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:13:19.690  INFO 1481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:13:19.905  INFO 1481 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.171 seconds (JVM running for 4.787)
2021-10-20 12:13:20.025 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:13:20.053 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:13:20.088 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:13:20.095  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:13:20.101 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:13:20.147 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:13:20.157 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:13:20.168 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:13:20.173 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:13:20.180 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:13:20.293  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:13:20.318 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:13:20.344 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:13:20.451 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:13:20.561  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:13:20.566 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:13:20.572 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:13:20.679 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:13:20.772  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:13:20.777 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:13:20.782 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:13:20.841 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:13:21.011  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:13:21.016 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:13:21.022 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:13:21.462 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:13:21.576  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:13:21.679 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:13:21.686 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:13:21.820 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:13:22.028  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:13:22.051 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:13:22.113 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:13:22.126 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:13:22.169 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.305  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:13:22.306 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:13:22.313 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:13:22.328 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:13:22.336 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:13:22.354 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.376 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.456  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:13:22.457 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:13:22.463 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:13:22.470 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:13:22.477 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:13:22.512 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.557 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.563 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.630  INFO 1481 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:13:22.631 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:13:22.637 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:13:22.645 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:13:22.651 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:13:22.662 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.667 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.672 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:22.688 DEBUG 1481 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:13:40.380  INFO 1481 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:13:40.380  INFO 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:13:40.380 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:13:40.380 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:13:40.380 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:13:40.381 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b523747
2021-10-20 12:13:40.387 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6739cba0
2021-10-20 12:13:40.387 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:13:40.387  INFO 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2021-10-20 12:13:40.413 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:13:40.416 DEBUG 1481 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:13:40.431 DEBUG 1481 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{Foxstrock@gmail.com}"]
2021-10-20 12:13:55.991 DEBUG 1481 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:13:56.016 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.util.NoSuchElementException: No value present
2021-10-20 12:13:56.035 ERROR 1481 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.get(Optional.java:143) ~[na:na]
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:13:56.039 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:13:56.042 DEBUG 1481 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:13:56.054 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:13:56.055 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:13:56 CEST 2021, status=500, error=Internal Server Error, trace=java.util.N (truncated)...]
2021-10-20 12:13:56.073 DEBUG 1481 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:14:05.629 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:14:05.630 DEBUG 1481 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:14:05.631 DEBUG 1481 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{Foxstrock@gmail.com}"]
2021-10-20 12:14:11.811 DEBUG 1481 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:14:11.830 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.util.NoSuchElementException: No value present
2021-10-20 12:14:11.832 ERROR 1481 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.get(Optional.java:143) ~[na:na]
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:14:11.833 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:14:11.834 DEBUG 1481 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:14:11.835 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:14:11.835 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:14:11 CEST 2021, status=500, error=Internal Server Error, trace=java.util.N (truncated)...]
2021-10-20 12:14:11.836 DEBUG 1481 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:15:00.743 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:15:00.744 DEBUG 1481 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:15:00.745 DEBUG 1481 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{Foxstrock@gmail.com}"]
2021-10-20 12:15:17.826 DEBUG 1481 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:16:09.209  WARN 1481 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m13s233ms).
2021-10-20 12:16:09.217 DEBUG 1481 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:16:09.235 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.util.NoSuchElementException: No value present
2021-10-20 12:16:09.239 ERROR 1481 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.util.NoSuchElementException: No value present] with root cause

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.get(Optional.java:143) ~[na:na]
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:16:09.242 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:16:09.248 DEBUG 1481 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:16:09.249 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:16:09.249 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:16:09 CEST 2021, status=500, error=Internal Server Error, trace=java.util.N (truncated)...]
2021-10-20 12:16:09.253 DEBUG 1481 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:16:09.348  INFO 1481 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:16:09.374  INFO 1481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:16:09.431  INFO 1481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:16:40.895  INFO 1489 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1489 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:16:40.896  INFO 1489 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:16:40.940  INFO 1489 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:16:40.940  INFO 1489 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:16:41.679  INFO 1489 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:16:41.724  INFO 1489 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-10-20 12:16:42.234  INFO 1489 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:16:42.241  INFO 1489 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:16:42.242  INFO 1489 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:16:42.294  INFO 1489 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:16:42.294  INFO 1489 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1353 ms
2021-10-20 12:16:42.415  INFO 1489 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:16:42.452  INFO 1489 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:16:42.548  INFO 1489 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:16:42.613  INFO 1489 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:16:42.890  INFO 1489 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:16:42.913  INFO 1489 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:16:43.498  INFO 1489 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:16:43.512  INFO 1489 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:16:43.877  WARN 1489 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:16:44.109 DEBUG 1489 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:16:44.254  INFO 1489 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fd96256, org.springframework.security.web.context.SecurityContextPersistenceFilter@378c25a2, org.springframework.security.web.header.HeaderWriterFilter@7b20705a, org.springframework.security.web.authentication.logout.LogoutFilter@79746871, com.example.login.filter.CustomAuthorizazionFilter@24b88522, com.example.login.filter.CustomAuthenticationFilter@15375f2d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@237cdf10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b05843, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67de23a8, org.springframework.security.web.session.SessionManagementFilter@5c2ca626, org.springframework.security.web.access.ExceptionTranslationFilter@584821e7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39a4c04d]
2021-10-20 12:16:44.374  INFO 1489 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:16:44.378 DEBUG 1489 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:16:44.404 DEBUG 1489 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:16:44.420 DEBUG 1489 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:16:44.426 DEBUG 1489 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:16:44.533  INFO 1489 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:16:44.762  INFO 1489 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.165 seconds (JVM running for 4.803)
2021-10-20 12:16:44.870 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:16:44.893 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:16:44.928 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:16:44.942  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:16:44.950 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:16:45.003 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:16:45.010 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:16:45.017 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:16:45.023 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:16:45.030 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:16:45.125  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:16:45.149 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:16:45.155 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:16:45.233 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:16:45.403  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:16:45.408 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:16:45.414 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:16:45.501 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:16:45.565  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:16:45.571 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:16:45.579 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:16:45.650 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:16:45.737  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:16:45.740 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:16:45.745 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:16:45.833 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:16:45.937  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:16:46.048 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:16:46.052 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:16:46.247 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:16:46.422  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:16:46.446 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:16:46.452 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:16:46.467 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:16:46.477 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.634  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:16:46.637 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:16:46.646 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:16:46.657 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:16:46.666 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:16:46.690 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.713 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.807  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:16:46.808 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:16:46.817 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:16:46.825 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:16:46.832 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:16:46.849 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.855 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.864 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:46.964  INFO 1489 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:16:46.971 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:16:46.982 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:16:47.004 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:16:47.169 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:16:47.254 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:47.300 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:47.306 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:47.311 DEBUG 1489 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:16:53.983  INFO 1489 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:16:53.987  INFO 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:16:53.987 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:16:53.987 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:16:53.987 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:16:53.989 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@b8391f8
2021-10-20 12:16:53.989 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5be5dd45
2021-10-20 12:16:53.989 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:16:53.989  INFO 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:16:54.016 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:16:54.019 DEBUG 1489 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:16:54.035 DEBUG 1489 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{Foxstrock@gmail.com}"]
2021-10-20 12:16:58.125 DEBUG 1489 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:17:00.902 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
2021-10-20 12:17:00.924 ERROR 1489 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null] with root cause

java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:17:00.936 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:17:00.942 DEBUG 1489 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:17:00.963 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:17:00.963 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:17:00 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.N (truncated)...]
2021-10-20 12:17:00.981 DEBUG 1489 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:17:05.885 DEBUG 1489 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:17:05.893 DEBUG 1489 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:17:05.906  INFO 1489 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:17:11.926 DEBUG 1489 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:17:12.099 DEBUG 1489 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:17:24.074 DEBUG 1489 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:17:24.081 DEBUG 1489 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:17:24.091  INFO 1489 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:17:24.199 DEBUG 1489 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:17:24.205 DEBUG 1489 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:18:02.012 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:18:02.012 DEBUG 1489 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:18:02.013 DEBUG 1489 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{user}"]
2021-10-20 12:18:02.014 DEBUG 1489 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:18:02.106 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
2021-10-20 12:18:02.107 ERROR 1489 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null] with root cause

java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:18:02.108 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:18:02.109 DEBUG 1489 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:18:02.110 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:18:02.110 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:18:02 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.N (truncated)...]
2021-10-20 12:18:02.111 DEBUG 1489 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:20:18.333 DEBUG 1489 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:18.349 DEBUG 1489 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:18.363  INFO 1489 --- [http-nio-8080-exec-8] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:20:18.473 DEBUG 1489 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:18.489 DEBUG 1489 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:28.208 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:20:28.209 DEBUG 1489 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:20:28.210 DEBUG 1489 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{user}"]
2021-10-20 12:20:28.211 DEBUG 1489 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:28.314 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
2021-10-20 12:20:28.315 ERROR 1489 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null] with root cause

java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:20:28.316 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:20:28.316 DEBUG 1489 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:20:28.317 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:20:28.317 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:20:28 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.N (truncated)...]
2021-10-20 12:20:28.318 DEBUG 1489 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:20:39.497 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:20:39.498 DEBUG 1489 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:20:39.498 DEBUG 1489 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{user}"]
2021-10-20 12:20:39.499 DEBUG 1489 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:39.624 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
2021-10-20 12:20:39.625 ERROR 1489 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null] with root cause

java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:20:39.626 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:20:39.627 DEBUG 1489 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:20:39.627 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:20:39.628 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:20:39 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.N (truncated)...]
2021-10-20 12:20:39.629 DEBUG 1489 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:20:45.226  INFO 1489 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:20:45.244  INFO 1489 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:20:45.330  INFO 1489 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:20:48.916  INFO 1502 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1502 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:20:48.918  INFO 1502 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:20:48.957  INFO 1502 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:20:48.957  INFO 1502 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:20:49.663  INFO 1502 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:20:49.709  INFO 1502 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2021-10-20 12:20:50.173  INFO 1502 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:20:50.181  INFO 1502 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:20:50.181  INFO 1502 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:20:50.237  INFO 1502 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:20:50.237  INFO 1502 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1280 ms
2021-10-20 12:20:50.369  INFO 1502 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:20:50.413  INFO 1502 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:20:50.546  INFO 1502 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:20:50.648  INFO 1502 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:20:51.013  INFO 1502 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:20:51.038  INFO 1502 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:20:51.645  INFO 1502 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:20:51.657  INFO 1502 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:20:51.984  WARN 1502 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:20:52.201 DEBUG 1502 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:20:52.349  INFO 1502 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@189df29a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3cbe66, org.springframework.security.web.header.HeaderWriterFilter@39466d2d, org.springframework.security.web.authentication.logout.LogoutFilter@76ebea67, com.example.login.filter.CustomAuthorizazionFilter@5b514032, com.example.login.filter.CustomAuthenticationFilter@577cbea8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cdc94de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a4a5d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31a61bc5, org.springframework.security.web.session.SessionManagementFilter@b9ec6b9, org.springframework.security.web.access.ExceptionTranslationFilter@4a0a62d7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a4c881]
2021-10-20 12:20:52.454  INFO 1502 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:20:52.458 DEBUG 1502 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:20:52.484 DEBUG 1502 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:20:52.504 DEBUG 1502 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:20:52.510 DEBUG 1502 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:20:52.606  INFO 1502 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:20:52.814  INFO 1502 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.185 seconds (JVM running for 4.711)
2021-10-20 12:20:52.955 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:20:52.998 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:53.052 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:20:53.063  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:20:53.069 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:20:53.123 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:20:53.131 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:20:53.142 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:20:53.155 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:20:53.160 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:20:53.522  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:20:53.543 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:20:53.554 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:20:53.677 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:20:53.930  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:20:53.939 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:20:53.952 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:20:54.047 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:20:54.116  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:20:54.121 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:20:54.125 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:20:54.177 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:20:54.549  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:20:54.554 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:20:54.566 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:20:54.644 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:20:54.734  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:20:54.840 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:20:54.845 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:20:54.919 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:20:55.062  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:20:55.082 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:55.089 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:55.127 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:20:55.135 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.286  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:20:55.289 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:55.297 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:55.316 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:20:55.331 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:20:55.344 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.366 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.487  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:20:55.488 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:55.495 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:55.502 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:20:55.508 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:20:55.535 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.545 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.551 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.628  INFO 1502 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:20:55.629 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:20:55.636 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:20:55.648 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:20:55.654 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:20:55.667 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.679 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.685 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:20:55.689 DEBUG 1502 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:21:03.953  INFO 1502 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:21:03.953  INFO 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:21:03.953 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:21:03.953 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:21:03.953 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:21:03.954 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35022363
2021-10-20 12:21:03.954 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cfb0281
2021-10-20 12:21:03.955 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:21:03.955  INFO 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:21:03.969 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:21:03.971 DEBUG 1502 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:21:03.984 DEBUG 1502 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["{user}"]
2021-10-20 12:21:03.998 DEBUG 1502 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:21:04.110 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
2021-10-20 12:21:04.115 ERROR 1502 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null] with root cause

java.lang.NullPointerException: Cannot invoke "com.example.login.model.User.setPassword(String)" because "user" is null
	at com.example.login.Api.RegisterService.changePassword(RegisterService.java:77) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at com.example.login.filter.CustomAuthorizazionFilter.doFilterInternal(CustomAuthorizazionFilter.java:52) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2021-10-20 12:21:04.118 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for PUT "/error?newPassword=banana", parameters={masked}
2021-10-20 12:21:04.120 DEBUG 1502 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2021-10-20 12:21:04.129 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:21:04.130 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Wed Oct 20 12:21:04 CEST 2021, status=500, error=Internal Server Error, trace=java.lang.N (truncated)...]
2021-10-20 12:21:04.148 DEBUG 1502 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2021-10-20 12:21:25.310 DEBUG 1502 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:21:25.310 DEBUG 1502 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:21:25.311 DEBUG 1502 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["user"]
2021-10-20 12:21:25.312 DEBUG 1502 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:21:25.330 DEBUG 1502 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:21:25.439 DEBUG 1502 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:21:25.592 DEBUG 1502 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:21:25.598 DEBUG 1502 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=192, email=Foxstrock@gmail.com, username=user, name=Marcos, surname=Sottile, password=$2a$10 (truncated)...]
2021-10-20 12:21:25.603 DEBUG 1502 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:21:35.328 DEBUG 1502 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:21:35.333 DEBUG 1502 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:21:35.343  INFO 1502 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:21:42.195 DEBUG 1502 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:21:42.202 DEBUG 1502 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:21:42.209  INFO 1502 --- [http-nio-8080-exec-5] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:21:42.319 DEBUG 1502 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:21:42.327 DEBUG 1502 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:22:02.315  INFO 1502 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:22:02.323  INFO 1502 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:22:02.394  INFO 1502 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:23:27.449  INFO 1511 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1511 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:23:27.450  INFO 1511 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:23:27.482  INFO 1511 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:23:27.482  INFO 1511 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:23:28.068  INFO 1511 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:23:28.101  INFO 1511 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2021-10-20 12:23:28.460  INFO 1511 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:23:28.465  INFO 1511 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:23:28.466  INFO 1511 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:23:28.509  INFO 1511 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:23:28.509  INFO 1511 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1026 ms
2021-10-20 12:23:28.603  INFO 1511 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:23:28.625  INFO 1511 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:23:28.690  INFO 1511 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:23:28.747  INFO 1511 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:23:29.016  INFO 1511 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:23:29.032  INFO 1511 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:23:29.525  INFO 1511 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:23:29.534  INFO 1511 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:23:29.787  WARN 1511 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:23:29.949 DEBUG 1511 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:23:30.045  INFO 1511 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@189df29a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3cbe66, org.springframework.security.web.header.HeaderWriterFilter@39466d2d, org.springframework.security.web.authentication.logout.LogoutFilter@76ebea67, com.example.login.filter.CustomAuthorizazionFilter@5b514032, com.example.login.filter.CustomAuthenticationFilter@577cbea8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cdc94de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a4a5d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31a61bc5, org.springframework.security.web.session.SessionManagementFilter@b9ec6b9, org.springframework.security.web.access.ExceptionTranslationFilter@4a0a62d7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a4c881]
2021-10-20 12:23:30.120  INFO 1511 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:23:30.124 DEBUG 1511 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:23:30.142 DEBUG 1511 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:23:30.157 DEBUG 1511 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:23:30.162 DEBUG 1511 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:23:30.227  INFO 1511 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:23:30.427  INFO 1511 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 3.197 seconds (JVM running for 3.667)
2021-10-20 12:23:30.503 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:23:30.521 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:23:30.555 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:23:30.564  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:23:30.578 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:23:30.630 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:23:30.636 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:23:30.642 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:23:30.649 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:23:30.654 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:23:30.731  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:23:30.747 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:23:30.751 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:23:30.856 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:23:31.022  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:23:31.026 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:23:31.033 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:23:31.095 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:23:31.160  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:23:31.165 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:23:31.174 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:23:31.273 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:23:31.444  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:23:31.449 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:23:31.454 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:23:31.647 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:23:31.878  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:23:31.976 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:23:31.980 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:23:32.036 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:23:32.114  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:23:32.130 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:23:32.140 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:23:32.160 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:23:32.173 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.238  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:23:32.239 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:23:32.245 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:23:32.253 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:23:32.260 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:23:32.269 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.294 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.434  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:23:32.436 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:23:32.575 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:23:32.806 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:23:32.813 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:23:32.849 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.875 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.883 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:32.967  INFO 1511 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:23:32.969 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:23:32.977 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:23:32.987 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:23:32.994 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:23:33.009 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:33.037 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:33.046 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:33.050 DEBUG 1511 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:23:42.327  INFO 1511 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:23:42.328  INFO 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:23:42.328 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:23:42.328 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:23:42.328 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:23:42.329 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35022363
2021-10-20 12:23:42.330 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cfb0281
2021-10-20 12:23:42.330 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:23:42.330  INFO 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:23:42.348 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:23:42.355 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:23:42.365 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:24:02.478 DEBUG 1511 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 12:24:02.479 DEBUG 1511 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 12:24:02.538 DEBUG 1511 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pas (truncated)...]
2021-10-20 12:24:02.550 DEBUG 1511 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:24:05.507 DEBUG 1511 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:24:05.902 DEBUG 1511 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:24:05.980 DEBUG 1511 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:24:06.076 DEBUG 1511 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:24:06.077 DEBUG 1511 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=198, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 12:24:06.092 DEBUG 1511 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:24:51.806 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:24:51.814 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:24:51.820  INFO 1511 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:25:19.423 DEBUG 1511 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:25:19.429 DEBUG 1511 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:25:19.434  INFO 1511 --- [http-nio-8080-exec-6] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:25:19.557 DEBUG 1511 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:25:19.561 DEBUG 1511 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:25:19.566 ERROR 1511 --- [http-nio-8080-exec-6] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 12:25:29.093 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:25:29.095 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:25:29.097 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:25:38.452 DEBUG 1511 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:25:38.454 DEBUG 1511 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:25:38.457 DEBUG 1511 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:25:39.005 DEBUG 1511 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:25:39.006 DEBUG 1511 --- [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:25:39.009 DEBUG 1511 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:25:47.149 DEBUG 1511 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:25:47.150 DEBUG 1511 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:25:47.151 DEBUG 1511 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:25:59.044 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:25:59.044 DEBUG 1511 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:25:59.045 DEBUG 1511 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["string"]
2021-10-20 12:25:59.063 DEBUG 1511 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:25:59.080 DEBUG 1511 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:25:59.193 DEBUG 1511 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:25:59.314 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:25:59.314 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=198, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 12:25:59.316 DEBUG 1511 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:26:50.171 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:26:50.235 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:26:50.261  INFO 1511 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:26:50.370 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:26:50.375 DEBUG 1511 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:27:16.780 DEBUG 1511 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:27:16.781 DEBUG 1511 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:27:16.784 DEBUG 1511 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:27:17.980 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:27:17.981 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:27:17.983 DEBUG 1511 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:27:29.047  INFO 1511 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:27:29.054  INFO 1511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:27:29.118  INFO 1511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:28:30.769  INFO 1528 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1528 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:28:30.770  INFO 1528 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:28:30.803  INFO 1528 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:28:30.804  INFO 1528 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:28:31.480  INFO 1528 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:28:31.519  INFO 1528 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2021-10-20 12:28:31.932  INFO 1528 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:28:31.939  INFO 1528 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:28:31.939  INFO 1528 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:28:32.008  INFO 1528 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:28:32.008  INFO 1528 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1204 ms
2021-10-20 12:28:32.138  INFO 1528 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:28:32.173  INFO 1528 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:28:32.308  INFO 1528 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:28:32.383  INFO 1528 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:28:32.769  INFO 1528 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:28:32.799  INFO 1528 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:28:33.604  INFO 1528 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:28:33.616  INFO 1528 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:28:33.937  WARN 1528 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:28:34.136 DEBUG 1528 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:28:34.274  INFO 1528 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d215bd2, org.springframework.security.web.context.SecurityContextPersistenceFilter@363379e1, org.springframework.security.web.header.HeaderWriterFilter@31b8f58d, org.springframework.security.web.authentication.logout.LogoutFilter@79fe030e, com.example.login.filter.CustomAuthorizazionFilter@63733b62, com.example.login.filter.CustomAuthenticationFilter@1af9a214, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38429d3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c81eca0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@442119ed, org.springframework.security.web.session.SessionManagementFilter@77c2dd2c, org.springframework.security.web.access.ExceptionTranslationFilter@165b8e18, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2dd30a]
2021-10-20 12:28:34.379  INFO 1528 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:28:34.382 DEBUG 1528 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:28:34.404 DEBUG 1528 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:28:34.417 DEBUG 1528 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:28:34.423 DEBUG 1528 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:28:34.523  INFO 1528 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:28:34.711  INFO 1528 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.174 seconds (JVM running for 4.65)
2021-10-20 12:28:34.835 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:28:34.859 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:34.871 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:34.981 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:28:34.988  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:28:34.993 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:28:35.007 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:28:35.016 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:28:35.024 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:28:35.030 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:28:35.038 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:28:35.043 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:28:35.157  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:28:35.173 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:28:35.201 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:28:35.279 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:28:35.398  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:28:35.403 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:28:35.409 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:28:35.508 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:28:35.736  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:28:35.740 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:28:35.747 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:28:35.903 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:28:36.055  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:28:36.061 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:28:36.068 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:28:36.243 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:28:36.349  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:28:36.445 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:28:36.449 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:28:36.545 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:28:36.748  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:28:36.767 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:28:36.773 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:36.798 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:28:36.805 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:36.886  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:28:36.888 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:28:36.898 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:36.909 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:28:36.926 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:28:36.956 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:36.961 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.060  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:28:37.061 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:28:37.073 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:37.081 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:28:37.087 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:28:37.130 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.157 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.177 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.265  INFO 1528 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:28:37.268 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:28:37.281 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:28:37.290 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:28:37.297 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:28:37.308 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.314 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.319 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:37.324 DEBUG 1528 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:28:45.781  INFO 1528 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:28:45.781  INFO 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:28:45.781 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:28:45.781 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:28:45.781 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:28:45.783 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@28653b60
2021-10-20 12:28:45.783 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@20351bb4
2021-10-20 12:28:45.783 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:28:45.783  INFO 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:28:45.800 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:28:45.805 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:45.813 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:52.360 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:28:52.362 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:52.365 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.430 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 12:28:55.431 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 12:28:55.437 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 12:28:55.437 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 12:28:55.439 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 12:28:55.441 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 12:28:55.442 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.445 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 12:28:55.447 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.498 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.499 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.500 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.501 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.501 DEBUG 1528 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.501 DEBUG 1528 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.501 DEBUG 1528 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.501 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.502 DEBUG 1528 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.502 DEBUG 1528 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.502 DEBUG 1528 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.509 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.511 DEBUG 1528 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.515 DEBUG 1528 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.525 DEBUG 1528 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.731 DEBUG 1528 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 12:28:55.743 DEBUG 1528 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 12:28:55.745 DEBUG 1528 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.746 DEBUG 1528 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.748 DEBUG 1528 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.758 DEBUG 1528 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:28:55.782 DEBUG 1528 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@5fc32fb7]
2021-10-20 12:28:55.794 DEBUG 1528 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.801 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 12:28:55.802 DEBUG 1528 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 12:28:55.802 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:28:55.804 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@5b4d660f]
2021-10-20 12:28:55.805 DEBUG 1528 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.810 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 12:28:55.810 DEBUG 1528 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 12:28:55.811 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:28:55.812 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@554c959a]]
2021-10-20 12:28:55.816 DEBUG 1528 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:55.888 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 12:28:55.889 DEBUG 1528 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 12:28:55.890 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:28:55.891 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:28:55.893 DEBUG 1528 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:28:56.036 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 12:28:56.038 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@1ab45d9b]
2021-10-20 12:28:56.040 DEBUG 1528 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:29:18.087 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/registration/forgotpassword", parameters={}
2021-10-20 12:29:18.088 DEBUG 1528 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#forgotPassword(String)
2021-10-20 12:29:18.090 DEBUG 1528 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["Foxstrock@gmail.com"]
2021-10-20 12:29:18.102 DEBUG 1528 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:29:18.120 DEBUG 1528 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:29:20.557 DEBUG 1528 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:29:20.791 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:29:20.800 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=203, email=Foxstrock@gmail.com, username=user, name=Marcos, surname=Sottile, password=$2a$10 (truncated)...]
2021-10-20 12:29:20.803 DEBUG 1528 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:30:08.965 DEBUG 1528 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:30:08.972 DEBUG 1528 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:30:08.979  INFO 1528 --- [http-nio-8080-exec-1] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:30:57.038  INFO 1528 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:30:57.046  INFO 1528 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:30:57.112  INFO 1528 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:31:00.595  INFO 1537 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1537 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:31:00.596  INFO 1537 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:31:00.629  INFO 1537 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:31:00.629  INFO 1537 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:31:01.278  INFO 1537 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:31:01.317  INFO 1537 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2021-10-20 12:31:01.737  INFO 1537 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:31:01.743  INFO 1537 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:31:01.743  INFO 1537 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:31:01.829  INFO 1537 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:31:01.830  INFO 1537 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1201 ms
2021-10-20 12:31:02.081  INFO 1537 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:31:02.114  INFO 1537 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:31:02.228  INFO 1537 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:31:02.293  INFO 1537 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:31:02.612  INFO 1537 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:31:02.635  INFO 1537 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:31:03.162  INFO 1537 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:31:03.174  INFO 1537 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:31:03.500  WARN 1537 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:31:03.696 DEBUG 1537 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:31:03.827  INFO 1537 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@189df29a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3cbe66, org.springframework.security.web.header.HeaderWriterFilter@39466d2d, org.springframework.security.web.authentication.logout.LogoutFilter@76ebea67, com.example.login.filter.CustomAuthorizazionFilter@5b514032, com.example.login.filter.CustomAuthenticationFilter@577cbea8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cdc94de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a4a5d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31a61bc5, org.springframework.security.web.session.SessionManagementFilter@b9ec6b9, org.springframework.security.web.access.ExceptionTranslationFilter@4a0a62d7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a4c881]
2021-10-20 12:31:03.927  INFO 1537 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:31:03.930 DEBUG 1537 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:31:03.953 DEBUG 1537 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:31:03.964 DEBUG 1537 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:31:03.970 DEBUG 1537 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:31:04.065  INFO 1537 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:31:04.254  INFO 1537 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 3.892 seconds (JVM running for 4.361)
2021-10-20 12:31:04.367 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:31:04.392 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:04.424 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:31:04.431  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:31:04.435 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:31:04.491 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:31:04.498 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:31:04.503 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:31:04.508 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:31:04.513 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:31:04.610  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:31:04.645 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:31:04.651 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:31:04.935 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:31:05.256  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:31:05.261 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:31:05.266 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:31:05.400 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:31:05.504  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:31:05.508 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:31:05.515 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:31:05.611 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:31:05.670  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:31:05.675 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:31:05.681 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:31:05.901 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:31:06.021  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:31:06.123 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:31:06.127 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:31:06.214 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:31:06.371  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:31:06.390 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:31:06.397 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:06.435 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:31:06.456 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.544  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:31:06.545 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:31:06.551 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:06.559 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:31:06.565 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:31:06.569 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.603 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.690  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:31:06.696 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:31:06.708 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:06.715 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:31:06.721 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:31:06.749 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.755 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.761 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.887  INFO 1537 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:31:06.890 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:31:06.897 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:06.908 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:31:06.922 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:31:06.951 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.956 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.965 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:06.970 DEBUG 1537 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:31:15.312  INFO 1537 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:31:15.312  INFO 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:31:15.312 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:31:15.312 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:31:15.312 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:31:15.313 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35022363
2021-10-20 12:31:15.314 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1cfb0281
2021-10-20 12:31:15.314 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:31:15.314  INFO 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:31:15.329 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:31:15.335 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:15.350 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.612 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 12:31:16.613 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 12:31:16.621 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 12:31:16.621 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 12:31:16.623 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 12:31:16.625 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 12:31:16.626 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.628 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 12:31:16.631 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.709 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.711 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.713 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.714 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.715 DEBUG 1537 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.716 DEBUG 1537 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.716 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.716 DEBUG 1537 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.716 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.717 DEBUG 1537 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.717 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.725 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.731 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.735 DEBUG 1537 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.747 DEBUG 1537 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.953 DEBUG 1537 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 12:31:16.954 DEBUG 1537 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:31:16.955 DEBUG 1537 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 12:31:16.956 DEBUG 1537 --- [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:16.958 DEBUG 1537 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:16.969 DEBUG 1537 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:31:16.993 DEBUG 1537 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@42b0517]
2021-10-20 12:31:17.005 DEBUG 1537 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:17.011 DEBUG 1537 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 12:31:17.011 DEBUG 1537 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 12:31:17.011 DEBUG 1537 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:31:17.013 DEBUG 1537 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@189eb54a]
2021-10-20 12:31:17.014 DEBUG 1537 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:17.019 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 12:31:17.020 DEBUG 1537 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 12:31:17.020 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:31:17.022 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@4c2a62c]]
2021-10-20 12:31:17.024 DEBUG 1537 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:17.063 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 12:31:17.063 DEBUG 1537 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 12:31:17.160 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 12:31:17.163 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@630224e8]
2021-10-20 12:31:17.164 DEBUG 1537 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:18.540 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:31:18.542 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:18.547 DEBUG 1537 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:21.525 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:31:21.526 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:31:21.528 DEBUG 1537 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:31:28.764 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/registration/forgotpassword", parameters={}
2021-10-20 12:31:28.765 DEBUG 1537 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#forgotPassword(String)
2021-10-20 12:31:28.768 DEBUG 1537 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["user"]
2021-10-20 12:31:28.776 DEBUG 1537 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:31:28.791 DEBUG 1537 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:31:31.235 DEBUG 1537 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:31:31.377 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:31:31.386 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=208, email=Foxstrock@gmail.com, username=user, name=Marcos, surname=Sottile, password=$2a$10 (truncated)...]
2021-10-20 12:31:31.389 DEBUG 1537 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:01.012  INFO 1537 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:32:01.016  INFO 1537 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:32:01.064  INFO 1537 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:32:03.599  INFO 1549 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1549 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:32:03.601  INFO 1549 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:32:03.635  INFO 1549 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:32:03.635  INFO 1549 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:32:04.328  INFO 1549 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:32:04.396  INFO 1549 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 2 JPA repository interfaces.
2021-10-20 12:32:04.827  INFO 1549 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:32:04.842  INFO 1549 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:32:04.843  INFO 1549 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:32:04.894  INFO 1549 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:32:04.894  INFO 1549 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1258 ms
2021-10-20 12:32:05.012  INFO 1549 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:32:05.044  INFO 1549 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:32:05.157  INFO 1549 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:32:05.231  INFO 1549 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:32:05.518  INFO 1549 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:32:05.541  INFO 1549 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:32:06.082  INFO 1549 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:32:06.091  INFO 1549 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:32:06.397  WARN 1549 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:32:06.590 DEBUG 1549 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:32:06.727  INFO 1549 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@577cbea8, org.springframework.security.web.context.SecurityContextPersistenceFilter@cdc94de, org.springframework.security.web.header.HeaderWriterFilter@b9ec6b9, org.springframework.security.web.authentication.logout.LogoutFilter@20ad520c, com.example.login.filter.CustomAuthorizazionFilter@31a61bc5, com.example.login.filter.CustomAuthenticationFilter@46583649, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fbdbd0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e8a188d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17d9ae60, org.springframework.security.web.session.SessionManagementFilter@3c3cbe66, org.springframework.security.web.access.ExceptionTranslationFilter@6c2018ef, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49fb3a1c]
2021-10-20 12:32:06.820  INFO 1549 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:32:06.824 DEBUG 1549 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:32:06.847 DEBUG 1549 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:32:06.864 DEBUG 1549 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:32:06.869 DEBUG 1549 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:32:06.952  INFO 1549 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:32:07.164  INFO 1549 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 3.808 seconds (JVM running for 4.35)
2021-10-20 12:32:07.243 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:32:07.268 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:07.303 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:32:07.310  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:32:07.314 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:32:07.331 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:32:07.339 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:32:07.343 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:32:07.348 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:32:07.352 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:32:07.440  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:32:07.456 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:07.461 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:07.557 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:32:07.677  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:32:07.684 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:07.690 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:07.821 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:32:08.398  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:32:08.409 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:08.414 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:08.619 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:32:08.725  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:32:08.731 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:08.736 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:08.886 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:32:09.030  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:32:09.133 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:09.137 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:09.262 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:32:09.458  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:32:09.470 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:09.475 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:09.527 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:32:09.533 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:09.699  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:32:09.701 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:09.708 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:09.714 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:32:09.719 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:32:09.774 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:09.818 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:09.925  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:32:09.926 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:09.932 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:09.939 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:32:09.943 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:32:09.960 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:09.995 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:10.000 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:10.102  INFO 1549 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:32:10.104 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:10.110 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:10.119 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:32:10.126 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:32:10.134 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:10.171 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:10.179 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:10.183 DEBUG 1549 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:32:11.783  INFO 1549 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:32:11.783  INFO 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:32:11.783 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:32:11.783 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:32:11.783 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:32:11.784 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@70630ef6
2021-10-20 12:32:11.784 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b42a1f1
2021-10-20 12:32:11.785 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:32:11.785  INFO 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:32:11.800 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 12:32:11.804 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 12:32:11.810 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 12:32:11.810 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 12:32:11.811 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 12:32:11.813 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 12:32:11.815 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.822 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 12:32:11.824 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:11.870 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 12:32:11.871 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.872 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 12:32:11.873 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 12:32:11.874 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.874 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.874 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:11.875 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 12:32:11.875 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 12:32:11.876 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.876 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:11.884 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:11.889 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:11.891 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:11.899 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.095 DEBUG 1549 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 12:32:12.096 DEBUG 1549 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 12:32:12.096 DEBUG 1549 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:32:12.098 DEBUG 1549 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:12.101 DEBUG 1549 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.110 DEBUG 1549 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:32:12.133 DEBUG 1549 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@2baf0ae2]
2021-10-20 12:32:12.144 DEBUG 1549 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.149 DEBUG 1549 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 12:32:12.149 DEBUG 1549 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 12:32:12.150 DEBUG 1549 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:32:12.152 DEBUG 1549 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@ade1b5d]
2021-10-20 12:32:12.153 DEBUG 1549 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.158 DEBUG 1549 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 12:32:12.158 DEBUG 1549 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 12:32:12.159 DEBUG 1549 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:32:12.161 DEBUG 1549 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@42b26ce7]]
2021-10-20 12:32:12.163 DEBUG 1549 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.210 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 12:32:12.210 DEBUG 1549 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 12:32:12.213 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:32:12.214 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:12.216 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:12.332 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 12:32:12.335 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@3aade0f5]
2021-10-20 12:32:12.339 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:18.998 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:32:19.000 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:32:19.005 DEBUG 1549 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:30.945 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 12:32:30.945 DEBUG 1549 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 12:32:30.997 DEBUG 1549 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pas (truncated)...]
2021-10-20 12:32:31.002 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:32:33.298 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:32:33.303 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:32:33.436 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:32:33.552 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:32:33.553 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=214, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 12:32:33.557 DEBUG 1549 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:32:55.477 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:55.484 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:55.489  INFO 1549 --- [http-nio-8080-exec-4] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:32:55.598 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:32:55.603 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:32:55.609 ERROR 1549 --- [http-nio-8080-exec-4] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 12:33:19.951 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:33:19.952 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:33:19.954 DEBUG 1549 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:33:25.540 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/registration/forgotpassword", parameters={}
2021-10-20 12:33:25.540 DEBUG 1549 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#forgotPassword(String)
2021-10-20 12:33:25.541 DEBUG 1549 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["string"]
2021-10-20 12:33:25.542 DEBUG 1549 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:33:25.561 DEBUG 1549 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:33:28.038 DEBUG 1549 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:33:28.179 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:33:28.180 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=214, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 12:33:28.181 DEBUG 1549 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:33:36.090 DEBUG 1549 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:33:36.098 DEBUG 1549 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:33:36.105  INFO 1549 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:33:53.393 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:33:53.400 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:33:53.405  INFO 1549 --- [http-nio-8080-exec-6] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:33:53.506 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:33:53.512 DEBUG 1549 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:33:53.517 ERROR 1549 --- [http-nio-8080-exec-6] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 12:33:58.395 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:33:58.395 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:33:58.397 DEBUG 1549 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:34:05.858 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=banana", parameters={masked}
2021-10-20 12:34:05.859 DEBUG 1549 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:34:05.859 DEBUG 1549 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["string"]
2021-10-20 12:34:05.863 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:34:05.878 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:34:05.969 DEBUG 1549 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:34:06.106 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:34:06.107 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=214, email=sarag14161@specialistblog.com, username=string, name=string, surname=string, pass (truncated)...]
2021-10-20 12:34:06.108 DEBUG 1549 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:34:15.588 DEBUG 1549 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:34:15.634 DEBUG 1549 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:34:15.660  INFO 1549 --- [http-nio-8080-exec-8] c.example.login.Service.UserServiceImpl  : User found in Database : string
2021-10-20 12:34:15.762 DEBUG 1549 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:34:15.767 DEBUG 1549 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:08.661  INFO 1549 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:38:08.676  INFO 1549 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:38:18.685  INFO 1549 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-10-20 12:38:22.361  INFO 1566 --- [restartedMain] com.example.login.LoginApplication       : Starting LoginApplication using Java 17 on 192.168.129.33 with PID 1566 (/Users/codgosrl/Desktop/Marco/JWT/JWT/Login/target/classes started by codgosrl in /Users/codgosrl/Desktop/Marco/JWT/JWT)
2021-10-20 12:38:22.363  INFO 1566 --- [restartedMain] com.example.login.LoginApplication       : The following profiles are active: @activatedProperties@
2021-10-20 12:38:22.398  INFO 1566 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-10-20 12:38:22.398  INFO 1566 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-10-20 12:38:23.076  INFO 1566 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-10-20 12:38:23.118  INFO 1566 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2021-10-20 12:38:23.558  INFO 1566 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2021-10-20 12:38:23.566  INFO 1566 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-10-20 12:38:23.567  INFO 1566 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]
2021-10-20 12:38:23.641  INFO 1566 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-10-20 12:38:23.642  INFO 1566 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1244 ms
2021-10-20 12:38:23.767  INFO 1566 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-10-20 12:38:23.798  INFO 1566 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final
2021-10-20 12:38:23.884  INFO 1566 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-10-20 12:38:23.944  INFO 1566 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-10-20 12:38:24.247  INFO 1566 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-10-20 12:38:24.274  INFO 1566 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2021-10-20 12:38:25.141  INFO 1566 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-10-20 12:38:25.149  INFO 1566 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:38:25.458  WARN 1566 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-10-20 12:38:25.657 DEBUG 1566 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 14 mappings in 'requestMappingHandlerMapping'
2021-10-20 12:38:25.778  INFO 1566 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5578bd29, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fee2e48, org.springframework.security.web.header.HeaderWriterFilter@7060ef76, org.springframework.security.web.authentication.logout.LogoutFilter@472414d7, com.example.login.filter.CustomAuthorizazionFilter@5f664761, com.example.login.filter.CustomAuthenticationFilter@34b61f9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bc4a625, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@305d6735, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66395ec4, org.springframework.security.web.session.SessionManagementFilter@1df9fb96, org.springframework.security.web.access.ExceptionTranslationFilter@2a103350, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4059e793]
2021-10-20 12:38:25.871  INFO 1566 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2021-10-20 12:38:25.875 DEBUG 1566 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2021-10-20 12:38:25.903 DEBUG 1566 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui/] in 'viewControllerHandlerMapping'
2021-10-20 12:38:25.914 DEBUG 1566 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**] in 'resourceHandlerMapping'
2021-10-20 12:38:25.920 DEBUG 1566 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2021-10-20 12:38:26.007  INFO 1566 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2021-10-20 12:38:26.202  INFO 1566 --- [restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 4.077 seconds (JVM running for 4.588)
2021-10-20 12:38:26.304 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_
2021-10-20 12:38:26.385 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:26.427 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:26.510 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_
2021-10-20 12:38:26.520  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : All element are Elimineted
2021-10-20 12:38:26.525 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:38:26.546 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:38:26.553 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user where id=?
2021-10-20 12:38:26.560 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:38:26.565 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:38:26.571 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:38:26.576 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from role where id=?
2021-10-20 12:38:26.702  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_USER
2021-10-20 12:38:26.718 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:38:26.761 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:38:27.034 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:38:27.432  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_MANAGER
2021-10-20 12:38:27.439 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:38:27.444 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:38:27.708 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:38:27.810  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_ADMIN
2021-10-20 12:38:27.818 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:38:27.824 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:38:28.043 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:38:28.210  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new role ROLE_SUPER_ADMIN
2021-10-20 12:38:28.215 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:38:28.220 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:38:28.339 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into role (role, id) values (?, ?)
2021-10-20 12:38:28.461  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Saving new user
2021-10-20 12:38:28.560 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:38:28.565 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:38:28.701 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:38:28.803  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_ADMIN to user user
2021-10-20 12:38:28.820 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:38:28.827 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:28.838 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:38:28.845 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.094  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_USER to user user
2021-10-20 12:38:29.097 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:38:29.105 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:29.112 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:38:29.117 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:38:29.195 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.222 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.414  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_MANAGER to user user
2021-10-20 12:38:29.415 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:38:29.421 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:29.429 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:38:29.435 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:38:29.450 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.467 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.472 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.581  INFO 1566 --- [restartedMain] c.example.login.Service.UserServiceImpl  : Adding role ROLE_SUPER_ADMIN to user user
2021-10-20 12:38:29.582 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:38:29.591 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:38:29.599 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : select role0_.id as id1_0_, role0_.role as role2_0_ from role role0_ where role0_.role=?
2021-10-20 12:38:29.605 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : delete from user_roles where user_id=?
2021-10-20 12:38:29.624 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.645 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.654 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:29.661 DEBUG 1566 --- [restartedMain] org.hibernate.SQL                        : insert into user_roles (user_id, roles_id) values (?, ?)
2021-10-20 12:38:38.380  INFO 1566 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-10-20 12:38:38.381  INFO 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-10-20 12:38:38.381 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2021-10-20 12:38:38.381 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2021-10-20 12:38:38.381 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2021-10-20 12:38:38.382 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6b40c67c
2021-10-20 12:38:38.383 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@15b89077
2021-10-20 12:38:38.383 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2021-10-20 12:38:38.383  INFO 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-10-20 12:38:38.400 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:38:38.405 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:38.416 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:43.804 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:38:43.805 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:43.807 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.351 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/", parameters={}
2021-10-20 12:38:52.353 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="forward:/swagger-ui/index.html"]
2021-10-20 12:38:52.359 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]
2021-10-20 12:38:52.359 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'forward:', model {}
2021-10-20 12:38:52.361 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [/swagger-ui/index.html]
2021-10-20 12:38:52.363 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "FORWARD" dispatch for GET "/swagger-ui/index.html", parameters={}
2021-10-20 12:38:52.364 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.367 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "FORWARD" dispatch, status 200
2021-10-20 12:38:52.369 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.431 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.css?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.432 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.434 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui.css?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.434 DEBUG 1566 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-bundle.js?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.435 DEBUG 1566 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/swagger-ui-standalone-preset.js?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.435 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/springfox.js?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.436 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.436 DEBUG 1566 --- [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.436 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.436 DEBUG 1566 --- [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.436 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.446 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.448 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.451 DEBUG 1566 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.465 DEBUG 1566 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.669 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/ui", parameters={}
2021-10-20 12:38:52.681 DEBUG 1566 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#uiConfiguration()
2021-10-20 12:38:52.683 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.684 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.686 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.695 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:38:52.716 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.UiConfiguration@5fc32fb7]
2021-10-20 12:38:52.728 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.733 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources/configuration/security", parameters={}
2021-10-20 12:38:52.734 DEBUG 1566 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#securityConfiguration()
2021-10-20 12:38:52.734 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:38:52.736 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.swagger.web.SecurityConfiguration@6c606c4d]
2021-10-20 12:38:52.737 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.742 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-resources", parameters={}
2021-10-20 12:38:52.742 DEBUG 1566 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger.web.ApiResourceController#swaggerResources()
2021-10-20 12:38:52.742 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json]
2021-10-20 12:38:52.744 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[springfox.documentation.swagger.web.SwaggerResource@44a7a44d]]
2021-10-20 12:38:52.747 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.809 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/v2/api-docs?group=all", parameters={masked}
2021-10-20 12:38:52.809 DEBUG 1566 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)
2021-10-20 12:38:52.810 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:38:52.810 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:38:52.812 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:38:52.935 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, */*] and supported [application/json, application/hal+json]
2021-10-20 12:38:52.937 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [springfox.documentation.spring.web.json.Json@4fd3c945]
2021-10-20 12:38:52.939 DEBUG 1566 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:39:42.278 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:39:42.280 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:39:42.284 DEBUG 1566 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:39:59.519 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:39:59.520 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:39:59.525 DEBUG 1566 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:41:17.467 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/registration/register", parameters={}
2021-10-20 12:41:17.468 DEBUG 1566 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#addNewUser(User)
2021-10-20 12:41:17.507 DEBUG 1566 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [User(id=null, email=wofaral750@wii999.com, username=tizio, name=string, surname=string, password=str (truncated)...]
2021-10-20 12:41:17.515 DEBUG 1566 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.email=?
2021-10-20 12:41:19.785 DEBUG 1566 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select next_val as id_val from hibernate_sequence for update
2021-10-20 12:41:19.841 DEBUG 1566 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : update hibernate_sequence set next_val= ? where next_val=?
2021-10-20 12:41:19.900 DEBUG 1566 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into user (temp_password, birthday, email, name, password, surname, username, id) values (?, ?, ?, ?, ?, ?, ?, ?)
2021-10-20 12:41:19.967 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:41:19.967 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=220, email=wofaral750@wii999.com, username=tizio, name=string, surname=string, password=$2a$ (truncated)...]
2021-10-20 12:41:19.971 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:41:46.352 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:41:46.360 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:41:46.420  INFO 1566 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : tizio
2021-10-20 12:41:46.534 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:41:46.539 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:41:46.545 ERROR 1566 --- [http-nio-8080-exec-3] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 12:42:46.956 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:42:46.957 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:42:46.960 DEBUG 1566 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:42:57.856 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/registration/changepassword?newPassword=ciao", parameters={masked}
2021-10-20 12:42:57.856 DEBUG 1566 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#changePassword(String, String)
2021-10-20 12:42:57.857 DEBUG 1566 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["tizio"]
2021-10-20 12:42:57.861 DEBUG 1566 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:42:57.882 DEBUG 1566 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:42:57.983 DEBUG 1566 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:42:58.118 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:42:58.119 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=220, email=wofaral750@wii999.com, username=tizio, name=string, surname=string, password=$2a$ (truncated)...]
2021-10-20 12:42:58.120 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:43:33.993 DEBUG 1566 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:43:34.001 DEBUG 1566 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:43:34.006  INFO 1566 --- [http-nio-8080-exec-9] c.example.login.Service.UserServiceImpl  : User found in Database : tizio
2021-10-20 12:43:34.100 DEBUG 1566 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:43:34.111 DEBUG 1566 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:43:42.858 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:43:42.860 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:43:42.865 DEBUG 1566 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:43:43.545 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/swagger-ui/favicon-32x32.png?v=3.0.0", parameters={masked}
2021-10-20 12:43:43.546 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [Classpath [META-INF/resources/webjars/springfox-swagger-ui/]]
2021-10-20 12:43:43.548 DEBUG 1566 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:43:50.653 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/registration/forgotpassword", parameters={}
2021-10-20 12:43:50.653 DEBUG 1566 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.RegisterService#forgotPassword(String)
2021-10-20 12:43:50.654 DEBUG 1566 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to ["tizio"]
2021-10-20 12:43:50.655 DEBUG 1566 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:43:50.671 DEBUG 1566 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:43:53.056 DEBUG 1566 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : update user set temp_password=?, birthday=?, email=?, name=?, password=?, surname=?, username=? where id=?
2021-10-20 12:43:53.642 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2021-10-20 12:43:53.643 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=220, email=wofaral750@wii999.com, username=tizio, name=string, surname=string, password=$2a$ (truncated)...]
2021-10-20 12:43:53.644 DEBUG 1566 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:44:16.038 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:44:16.049 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:44:16.053  INFO 1566 --- [http-nio-8080-exec-3] c.example.login.Service.UserServiceImpl  : User found in Database : tizio
2021-10-20 12:44:16.163 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:44:16.169 DEBUG 1566 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:44:16.173 ERROR 1566 --- [http-nio-8080-exec-3] c.e.l.filter.CustomAuthenticationFilter  : Change Password
2021-10-20 12:44:27.272 DEBUG 1566 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:44:27.278 DEBUG 1566 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:44:27.365  INFO 1566 --- [http-nio-8080-exec-5] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:44:32.981 DEBUG 1566 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:44:32.988 DEBUG 1566 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:44:33.015  INFO 1566 --- [http-nio-8080-exec-7] c.example.login.Service.UserServiceImpl  : User found in Database : user
2021-10-20 12:44:33.124 DEBUG 1566 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:44:33.184 DEBUG 1566 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:45:01.948 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/user/token/refreshtoken", parameters={}
2021-10-20 12:45:01.949 DEBUG 1566 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.login.Api.UserResource#refreshToken(HttpServletRequest, HttpServletResponse)
2021-10-20 12:45:01.965  INFO 1566 --- [http-nio-8080-exec-8] c.example.login.Service.UserServiceImpl  : Fetching user user
2021-10-20 12:45:01.966 DEBUG 1566 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select user0_.id as id1_1_, user0_.temp_password as temp_pas2_1_, user0_.birthday as birthday3_1_, user0_.email as email4_1_, user0_.name as name5_1_, user0_.password as password6_1_, user0_.surname as surname7_1_, user0_.username as username8_1_ from user user0_ where user0_.username=?
2021-10-20 12:45:01.972 DEBUG 1566 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.role as role2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?
2021-10-20 12:45:02.006 DEBUG 1566 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2021-10-20 12:45:33.833  INFO 1566 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-10-20 12:45:33.841  INFO 1566 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-10-20 12:45:33.897  INFO 1566 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
